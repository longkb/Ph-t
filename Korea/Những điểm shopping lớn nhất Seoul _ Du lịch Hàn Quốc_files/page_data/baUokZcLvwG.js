if (self.CavalryLogger) { CavalryLogger.start_js(["9OyTM"]); }

__d("ChatPerfEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ASYNC_REQUEST:"async_request",SIDEBAR_FROM_CLIENT_TTI:"sidebar_from_client_tti",SIDEBAR_FROM_SERVER_TTI:"sidebar_from_server_tti",SIDEBAR_DISPLAY_DONE:"sidebar_display_done",TTI:"tti",CHAT_CONVERSATION_TTI:"chat_conversation_tti",CHAT_INIT_STORES:"chat_init_stores",CHAT_INIT_DATA:"chat_init_data",CHAT_INIT_UI:"chat_init_ui",CHAT_INIT_SOUND:"chat_init_sound",CHAT_DISPLAY_DONE:"chat_display_done"};}),null);
__d("EmojiStaticConfig",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={checksumBase:317426846,fileExt:".png",supportedSizes:{"16":"DP16","32":"DP32","64":"DP64","128":"DP128"},types:{FBEMOJI:"f",MESSENGER:"z",UNICODE:"u"},sizeMap:{dp16:16,dp32:32,dp64:64,dp128:128,xsmall:16,small:32,medium:64,large:128}};}),null);
__d("LanguageSettingsAction",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TRANSLATE_INTO:"translate_into",DO_NOT_TRANSLATE:"do_not_translate",DO_NOT_AUTO_TRANSLATE:"do_not_auto_translate",UNDO_NEVER_TRANSLATE:"undo_never_translate",UNDO_DISABLE_AUTO_TRANSLATE:"undo_disable_auto_translate"};}),null);
__d("TranslateAllState",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INITIAL:"initial",LOADING:"loading",COMPLETE:"complete"};}),null);
__d("TranslationPreferenceEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SEE_ORIGINAL:"click_see_original",HIDE_ORIGINAL:"click_hide_original",TRANSLATION_PREFERENCES:"click_translation_preferences",DISABLE_TRANSLATION:"disable_translation",DISABLE_AUTO_TRANSLATION:"disable_auto_translation",LANGUAGE_SETTINGS:"language_settings",EDIT_TRANSLATION:"edit_translation",REPORT_LANGUAGE:"report language",RATE_TRANSLATION:"rate_translation",TRANSLATE_ALL_COMMENTS:"translate_all_comments"};}),null);
__d("TranslationTrigger",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SEE_TRANSLATION:"see_translation",AUTO_TRANSLATION:"auto_translation",SEE_CONVERSION:"see_conversion",TRANSLATE_ALL:"translate_all",NONE:"none"};}),null);
__d('CallbackManagerController',['ErrorUtils'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$CallbackManagerController1=[];this.$CallbackManagerController2=[undefined];this.$CallbackManagerController3=i;}h.prototype.executeOrEnqueue=function(i,j,k){'use strict';k=k||{};var l=this.$CallbackManagerController4(j,i,k);if(l)return 0;this.$CallbackManagerController2.push({fn:j,request:i,options:k});var m=this.$CallbackManagerController2.length-1;this.$CallbackManagerController1.push(m);return m;};h.prototype.unsubscribe=function(i){'use strict';delete this.$CallbackManagerController2[i];};h.prototype.reset=function(){'use strict';this.$CallbackManagerController2=[];};h.prototype.getRequest=function(i){'use strict';return this.$CallbackManagerController2[i];};h.prototype.runPossibleCallbacks=function(){'use strict';var i=this.$CallbackManagerController1;this.$CallbackManagerController1=[];var j=[];i.forEach(function(k){var l=this.$CallbackManagerController2[k];if(!l)return;if(this.$CallbackManagerController3(l.request,l.options)){j.push(k);}else this.$CallbackManagerController1.push(k);}.bind(this));j.forEach(function(k){var l=this.$CallbackManagerController2[k];delete this.$CallbackManagerController2[k];this.$CallbackManagerController4(l.fn,l.request,l.options);}.bind(this));};h.prototype.$CallbackManagerController4=function(i,j,k){'use strict';var l=this.$CallbackManagerController3(j,k);if(l){var m={ids:j};c('ErrorUtils').applyWithGuard(i,m,l);}return !!l;};f.exports=h;}),null);
__d('KeyedCallbackManager',['CallbackManagerController','ErrorUtils'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){'use strict';this.$KeyedCallbackManager1={};this.$KeyedCallbackManager2=new (c('CallbackManagerController'))(this.$KeyedCallbackManager3.bind(this));}h.prototype.executeOrEnqueue=function(i,j){'use strict';if(!(i instanceof Array)){var k=i,l=j;i=[i];j=function m(n){l(n[k]);};}i=i.filter(function(m){var n=m!==null&&m!==undefined;if(!n)c('ErrorUtils').applyWithGuard(function(){throw new Error('KeyedCallbackManager.executeOrEnqueue: key '+JSON.stringify(m)+' is invalid');});return n;});return this.$KeyedCallbackManager2.executeOrEnqueue(i,j);};h.prototype.unsubscribe=function(i){'use strict';this.$KeyedCallbackManager2.unsubscribe(i);};h.prototype.reset=function(){'use strict';this.$KeyedCallbackManager2.reset();this.$KeyedCallbackManager1={};};h.prototype.getUnavailableResources=function(i){'use strict';var j=this.$KeyedCallbackManager2.getRequest(i),k=[];if(j)k=j.request.filter(function(l){return !this.$KeyedCallbackManager1[l];}.bind(this));return k;};h.prototype.getUnavailableResourcesFromRequest=function(i){'use strict';var j=Array.isArray(i)?i:[i];return j.filter(function(k){if(k!==null&&k!==undefined)return !this.$KeyedCallbackManager1[k];},this);};h.prototype.addResourcesAndExecute=function(i){'use strict';Object.assign(this.$KeyedCallbackManager1,i);this.$KeyedCallbackManager2.runPossibleCallbacks();};h.prototype.setResource=function(i,j){'use strict';this.$KeyedCallbackManager1[i]=j;this.$KeyedCallbackManager2.runPossibleCallbacks();};h.prototype.getResource=function(i){'use strict';return this.$KeyedCallbackManager1[i];};h.prototype.getAllResources=function(){'use strict';return this.$KeyedCallbackManager1;};h.prototype.dumpResources=function(){'use strict';var i={};for(var j in this.$KeyedCallbackManager1){var k=this.$KeyedCallbackManager1[j];if(typeof k==='object')k=babelHelpers['extends']({},k);i[j]=k;}return i;};h.prototype.$KeyedCallbackManager3=function(i){'use strict';var j={};for(var k=0;k<i.length;k++){var l=i[k],m=this.$KeyedCallbackManager1[l];if(typeof m=='undefined')return false;j[l]=m;}return [j];};f.exports=h;}),null);
__d('BaseAsyncLoader',['KeyedCallbackManager','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(k,l,m){var n=new (c('KeyedCallbackManager'))(),o=false,p=[];function q(){if(!p.length||o)return;o=true;c('setTimeoutAcrossTransitions')(s,0);}function r(v){o=false;v.forEach(n.unsubscribe.bind(n));q();}function s(){var v={},w=[];p=p.filter(function(y){var z=n.getUnavailableResources(y);if(z.length){z.forEach(function(aa){v[aa]=true;});w.push(y);return true;}return false;});var x=Object.keys(v);if(x.length){m(k,x,w,t.bind(null,w),u.bind(null,w));}else o=false;}function t(v,w){var x=w.payload[l]||w.payload;n.addResourcesAndExecute(x);r(v);}function u(v){r(v);}return {get:function v(w,x){var y=n.executeOrEnqueue(w,x),z=n.getUnavailableResources(y);if(z.length){p.push(y);q();}},getCachedKeys:function v(){return Object.keys(n.getAllResources());},getNow:function v(w){return n.getResource(w)||null;},set:function v(w){n.addResourcesAndExecute(w);}};}function j(k,l){throw 'BaseAsyncLoader can\'t be instantiated';}Object.assign(j.prototype,{_getLoader:function k(){if(!h[this._endpoint])h[this._endpoint]=i(this._endpoint,this._type,this.send);return h[this._endpoint];},get:function k(l,m){return this._getLoader().get(l,m);},getCachedKeys:function k(){return this._getLoader().getCachedKeys();},getNow:function k(l){return this._getLoader().getNow(l);},reset:function k(){h[this._endpoint]=null;},set:function k(l){this._getLoader().set(l);}});f.exports=j;}),null);
__d('LogHistory',['CircularBuffer'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=500,i={},j=new (c('CircularBuffer'))(h);function k(s,t,event,u){if(typeof u[0]!=='string'||u.length!==1)return;j.write({date:Date.now(),level:s,category:t,event:event,args:u[0]});}function l(s){'use strict';this.category=s;}l.prototype.debug=function(event){'use strict';for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k('debug',this.category,event,t);return this;};l.prototype.log=function(event){'use strict';for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k('log',this.category,event,t);return this;};l.prototype.warn=function(event){'use strict';for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k('warn',this.category,event,t);return this;};l.prototype.error=function(event){'use strict';for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k('error',this.category,event,t);return this;};function m(s){if(!i[s])i[s]=new l(s);return i[s];}function n(){return j.read();}function o(){j.clear();}function p(s){}function q(s){return s.map(function(t){var u=/\d\d:\d\d:\d\d/.exec(new Date(t.date));return [u&&u[0],t.level,t.category,t.event,t.args].join(' | ');}).join('\n');}var r={MAX:h,getInstance:m,getEntries:n,clearEntries:o,toConsole:p,formatEntries:q};f.exports=r;}),null);
__d('AjaxLoader',['AsyncRequest','BaseAsyncLoader','LogHistory'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('LogHistory').getInstance('ajax_loader');function i(j,k){this._endpoint=j;this._type=k;}Object.assign(i.prototype,c('BaseAsyncLoader').prototype);i.prototype.send=function(j,k,l,m,n){new (c('AsyncRequest'))().setURI(j).setData({ids:k}).setMethod('POST').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(o){m(o);}).setErrorHandler(function(o){n();h.error('fetch_error',{error_type:o.errorSummary,error_text:o.errorDescription});}).send();};f.exports=i;}),null);
__d("ChannelClientID",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=(Math.random()*2147483648|0).toString(16),i={getID:function j(){return h;}};f.exports=i;}),null);
__d("XChatUserInfoAllAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/user_info_all\/",{viewer:{type:"Int",required:true}});}),null);
__d('ShortProfilesBootstrapper',['Promise','AsyncRequest','BanzaiODS','CurrentUser','JSLogger','XChatUserInfoAllAsyncController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=5,i=10000,j=c('XChatUserInfoAllAsyncController').getURIBuilder().setInt('viewer',c('CurrentUser').getID()).getURI(),k=c('JSLogger').create('short_profiles');function l(m){this.$ShortProfilesBootstrapper1=m;this.$ShortProfilesBootstrapper2=new (c('Promise'))(function(n,o){this.$ShortProfilesBootstrapper3=n;this.$ShortProfilesBootstrapper4=o;}.bind(this));this.$ShortProfilesBootstrapper5=false;this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper7=0;this.$ShortProfilesBootstrapper8=0;this.$ShortProfilesBootstrapper9=0;this.$ShortProfilesBootstrapper10=false;this.$ShortProfilesBootstrapper11=false;}l.prototype.fetchAll=function(){this.$ShortProfilesBootstrapper12();if(this.$ShortProfilesBootstrapper5||this.$ShortProfilesBootstrapper6)return this.$ShortProfilesBootstrapper2;if(this.$ShortProfilesBootstrapper7>=h){this.$ShortProfilesBootstrapper13();return this.$ShortProfilesBootstrapper2;}this.$ShortProfilesBootstrapper7++;this.$ShortProfilesBootstrapper14();this.$ShortProfilesBootstrapper6=new (c('AsyncRequest'))(j).setHandler(function(m){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper5=true;this.$ShortProfilesBootstrapper15();this.$ShortProfilesBootstrapper1(m.payload);this.$ShortProfilesBootstrapper3();}.bind(this)).setErrorHandler(function(){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper8++;this.$ShortProfilesBootstrapper16();}.bind(this)).setTimeoutHandler(i,function(){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper9++;this.$ShortProfilesBootstrapper17();this.fetchAll();}.bind(this)).setAllowCrossPageTransition(true);this.$ShortProfilesBootstrapper6.send();return this.$ShortProfilesBootstrapper2;};l.prototype.isBootstrapped=function(){return this.$ShortProfilesBootstrapper5;};l.prototype.isBootstrapping=function(){return !!this.$ShortProfilesBootstrapper6;};l.prototype.getAttemptCount=function(){return this.$ShortProfilesBootstrapper7;};l.prototype.getErrorCount=function(){return this.$ShortProfilesBootstrapper8;};l.prototype.getTimeoutCount=function(){return this.$ShortProfilesBootstrapper9;};l.prototype.$ShortProfilesBootstrapper12=function(){if(!this.$ShortProfilesBootstrapper10){k.log('bootstrap_start');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.starts');this.$ShortProfilesBootstrapper10=true;}};l.prototype.$ShortProfilesBootstrapper14=function(){k.log('bootstrap_attempt');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.attempts');};l.prototype.$ShortProfilesBootstrapper15=function(){k.log('bootstrap_success');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.successes');if(this.$ShortProfilesBootstrapper7>1)c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.successes_after_retries');};l.prototype.$ShortProfilesBootstrapper16=function(){k.log('bootstrap_error');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.errors');};l.prototype.$ShortProfilesBootstrapper17=function(){k.log('bootstrap_timeout');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.timeouts');};l.prototype.$ShortProfilesBootstrapper13=function(){if(!this.$ShortProfilesBootstrapper11){k.log('bootstrap_giveup');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.giveups');this.$ShortProfilesBootstrapper11=true;this.$ShortProfilesBootstrapper4();}};f.exports=l;}),null);
__d("XChatUserInfoAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/user_info\/",{ids:{type:"IntVector",defaultValue:[]}});}),null);
__d('ShortProfiles',['AjaxLoader','Arbiter','JSLogger','ShortProfilesBootstrapper','XChatUserInfoAsyncController','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=null,i=new (c('AjaxLoader'))(c('XChatUserInfoAsyncController').getURIBuilder().getURI().toString(),'profiles'),j={get:function k(l,m){this.getMulti([l],function(n){return m(n[l],l);});},getMulti:function k(l,m){i.get(l,m||c('emptyFunction'));},getNow:function k(l){return i.getNow(l)||null;},getMultiNow:function k(l){var m={};l.forEach(function(n){return m[n]=j.getNow(n);});return m;},getCachedProfileIDs:function k(){return i.getCachedKeys();},hasAll:function k(){return !!h&&h.isBootstrapped();},fetchAll:function k(){if(!h)h=new (c('ShortProfilesBootstrapper'))(function(l){i.set(l);});return h.fetchAll();},set:function k(l,m){var n={};n[l]=m;this.setMulti(n);},setMulti:function k(l){i.set(l);}};c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(k,l){var m=j.getCachedProfileIDs(),n=c('JSLogger').getEntries(function(o){return (o.cat=='short_profiles'||o.cat=='chat_typeahead');});l.chat_typeahead={bootstrapped:h&&h.isBootstrapped(),bootstrapping:h&&h.isBootstrapping(),bootstrap_attempts:h&&h.getAttemptCount(),bootstrap_errors:h&&h.getErrorCount(),bootstrap_timeouts:h&&h.getTimeoutCount(),entries:m,entry_count:m.length,history:n};});f.exports=j;}),null);
__d('UFICommentTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:UFICommentLoggerConfig',this.$UFICommentTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:UFICommentLoggerConfig',this.$UFICommentTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$UFICommentTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$UFICommentTypedLogger1=babelHelpers['extends']({},this.$UFICommentTypedLogger1,j);return this;};h.prototype.setDuration=function(j){this.$UFICommentTypedLogger1.duration=j;return this;};h.prototype.setEvent=function(j){this.$UFICommentTypedLogger1.event=j;return this;};h.prototype.setHasPhoto=function(j){this.$UFICommentTypedLogger1.has_photo=j;return this;};h.prototype.setHasSticker=function(j){this.$UFICommentTypedLogger1.has_sticker=j;return this;};h.prototype.setIsReply=function(j){this.$UFICommentTypedLogger1.is_reply=j;return this;};h.prototype.setRequestLength=function(j){this.$UFICommentTypedLogger1.request_length=j;return this;};h.prototype.setVC=function(j){this.$UFICommentTypedLogger1.vc=j;return this;};var i={duration:true,event:true,has_photo:true,has_sticker:true,is_reply:true,request_length:true,vc:true};f.exports=h;}),null);
__d('UFICommentLogger',['UFICommentTypedLogger'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$UFICommentLogger1={};this.$UFICommentLogger2={};}h.prototype.logNewCommentPost=function(i,j,k){this.$UFICommentLogger2[i]=babelHelpers['extends']({timestamp:j},k);new (c('UFICommentTypedLogger'))().setEvent('new_comment_post').setHasPhoto(k.has_photo).setHasSticker(k.has_sticker).setIsReply(k.is_reply).log();};h.prototype.logNewCommentReceived=function(i,j){var k=this.$UFICommentLogger2[i];if(k){var l=0;if(j&&k.timestamp)l=j-k.timestamp;new (c('UFICommentTypedLogger'))().setEvent('new_comment_received').setDuration(l).setHasPhoto(k.has_photo).setHasSticker(k.has_sticker).setIsReply(k.is_reply).log();}delete this.$UFICommentLogger2[i];};h.prototype.logCommentFetch=function(i,j,k){var l=babelHelpers['extends']({timestamp:j},k);if(this.$UFICommentLogger1[i]===undefined){this.$UFICommentLogger1[i]=[l];}else this.$UFICommentLogger1[i].push(l);new (c('UFICommentTypedLogger'))().setEvent('fetch_comment').setIsReply(k.is_reply).setRequestLength(k.request_length).log();};h.prototype.logCommentFetchReceived=function(i,j){if(this.$UFICommentLogger1[i]){var k=this.$UFICommentLogger1[i].shift(),l=0;if(j&&k.timestamp)l=j-k.timestamp;new (c('UFICommentTypedLogger'))().setEvent('fetch_comment_received').setDuration(l).setIsReply(k.is_reply).setRequestLength(k.request_length).log();if(this.$UFICommentLogger1[i].length===0)delete this.$UFICommentLogger1[i];}};f.exports=new h();}),null);
__d('UFICentralUpdates',['Arbiter','BanzaiODS','LiveTimer','ShortProfiles','UFIConstants'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('BanzaiODS').setEntitySample('feedback',.0001);var h=0,i={},j={},k={},l=[];function m(){if(!h){var q=i,r=j,s=k;i={};j={};k={};if(Object.keys(q).length)o('feedback-updated',q);if(Object.keys(r).length)o('comments-updated',r);if(Object.keys(s).length)o('instance-updated',s);l.pop();}}function n(){if(l.length){return l[l.length-1];}else return c('UFIConstants').UFIPayloadSourceType.UNKNOWN;}function o(event,q){p.inform(event,{updates:q,payloadSource:n()});}var p=Object.assign(new (c('Arbiter'))(),{handleUpdate:function q(r,s){if(Object.keys(s).length)this.synchronizeInforms(function(){l.push(r);var t=babelHelpers['extends']({payloadsource:n()},s);this.inform('update-feedback',t);this.inform('update-comment-lists',t);this.inform('update-comments',t);this.inform('update-actions',t);c('ShortProfiles').setMulti(s.profiles||{});if(s.servertime)c('LiveTimer').restart(s.servertime);}.bind(this));},didUpdateFeedback:function q(r){i[r]=true;m();},didUpdateComment:function q(r){j[r]=true;m();},didUpdateInstanceState:function q(r,s){if(!k[r])k[r]={};k[r][s]=true;m();},synchronizeInforms:function q(r){h++;try{r();}catch(s){throw s;}finally{h--;m();}}});f.exports=p;}),null);
__d('UFICommentOrdering',['UFIConstants'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={inverted:function i(j){switch(j){case c('UFIConstants').UFICommentOrderingMode.RECENT_ACTIVITY:case c('UFIConstants').UFICommentOrderingMode.RANKED_THREADED:case c('UFIConstants').UFICommentOrderingMode.FILTERED:case c('UFIConstants').UFICommentOrderingMode.LIVE_STREAMING:return true;}return false;}};f.exports=h;}),null);
__d('LiveWWWFeedbackTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LiveWWWFeedbackLoggerConfig',this.$LiveWWWFeedbackTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LiveWWWFeedbackLoggerConfig',this.$LiveWWWFeedbackTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$LiveWWWFeedbackTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$LiveWWWFeedbackTypedLogger1=babelHelpers['extends']({},this.$LiveWWWFeedbackTypedLogger1,j);return this;};h.prototype.setCommentID=function(j){this.$LiveWWWFeedbackTypedLogger1.comment_id=j;return this;};h.prototype.setEvent=function(j){this.$LiveWWWFeedbackTypedLogger1.event=j;return this;};h.prototype.setIsMSite=function(j){this.$LiveWWWFeedbackTypedLogger1.is_m_site=j;return this;};h.prototype.setMechanism=function(j){this.$LiveWWWFeedbackTypedLogger1.mechanism=j;return this;};h.prototype.setOriginatedLocally=function(j){this.$LiveWWWFeedbackTypedLogger1.originated_locally=j;return this;};h.prototype.setRecipientID=function(j){this.$LiveWWWFeedbackTypedLogger1.recipient_id=j;return this;};h.prototype.setTimeSinceSub=function(j){this.$LiveWWWFeedbackTypedLogger1.time_since_sub=j;return this;};h.prototype.setUpdateType=function(j){this.$LiveWWWFeedbackTypedLogger1.update_type=j;return this;};h.prototype.setVC=function(j){this.$LiveWWWFeedbackTypedLogger1.vc=j;return this;};var i={comment_id:true,event:true,is_m_site:true,mechanism:true,originated_locally:true,recipient_id:true,time_since_sub:true,update_type:true,vc:true};f.exports=h;}),null);
__d('UFIInstanceState',['UFICentralUpdates'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function k(l,m){i(l);return h[l][m];},updateState:function k(l,m,n){i(l);h[l][m]=n;c('UFICentralUpdates').didUpdateInstanceState(l,m);},updateStateField:function k(l,m,n,o){var p=this.getKeyForInstance(l,m)||{};p[n]=o;this.updateState(l,m,p);},updateStateFields:function k(l,m,n){var o=this.getKeyForInstance(l,m)||{};o=babelHelpers['extends']({},o,n);this.updateState(l,m,o);}};f.exports=j;}),null);
__d('UFIComments',['invariant','ClientIDs','ImmutableObject','LiveWWWFeedbackTypedLogger','UFICentralUpdates','UFIConstants','UFIInstanceState','randomInt'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={},j={};function k(ba){return ba in j?j[ba]:ba;}function l(ba,ca){ba.forEach(function(da){var ea=da.ftentidentifier,fa=c('UFIConstants').UFIPayloadSourceType,ga=da.clientid,ha=false,ia=babelHelpers['extends']({},da);if(ga){delete ia.clientid;ha=c('ClientIDs').isExistingClientID(ga);if(ha&&j[ga]){new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('comment').setOriginatedLocally(true).setCommentID(da.id).log();return;}}if(ca===fa.LIVE_SEND||ca===c('UFIConstants').UFIPayloadSourceType.STREAMING||ca===fa.USER_ACTION||ca===fa.ENDPOINT_ADD_COMMENT||ca===fa.ENDPOINT_EDIT_COMMENT)ia.isunseen=true;if(ca===c('UFIConstants').UFIPayloadSourceType.LIVE_SEND||ca===c('UFIConstants').UFIPayloadSourceType.STREAMING)ia.islive=true;if(ca===fa.ENDPOINT_COMMENT_FETCH||ca===fa.ENDPOINT_ID_COMMENT_FETCH)ia.fromfetch=true;if(ha&&i[ga]){if(i[ga].ufiinstanceid)c('UFIInstanceState').updateStateField(i[ga].ufiinstanceid,'locallycomposed',da.id,true);ia.ufiinstanceid=i[ga].ufiinstanceid;j[ga]=da.id;i[da.id]=i[ga];delete i[ga];c('UFICentralUpdates').didUpdateComment(ga);}aa.setComment(da.id,new (c('ImmutableObject'))(ia));c('UFICentralUpdates').didUpdateComment(da.id);c('UFICentralUpdates').didUpdateFeedback(ea);});}function m(ba,ca){for(var da=0;da<ba.length;da++){var ea=ba[da];switch(ea.actiontype){case c('UFIConstants').UFIActionType.LIKE_ACTION:if(aa.getComment(ea.entidentifier))n(ea.clientid,ea.entidentifier,ea.hasviewerliked,ea.likecount,ea.reactiondata,ca);break;case c('UFIConstants').UFIActionType.COMMENT_LIKE:n(ea.clientid,ea.commentid,ea.viewerliked,ea.likecount,ea.reactiondata,ca);break;case c('UFIConstants').UFIActionType.COMMENT_REACTION:o(ea);break;case c('UFIConstants').UFIActionType.DELETE_COMMENT:s(ea);break;case c('UFIConstants').UFIActionType.LIVE_DELETE_COMMENT:t(ea);break;case c('UFIConstants').UFIActionType.REMOVE_PREVIEW:u(ea);break;case c('UFIConstants').UFIActionType.COMMENT_SET_SPAM:v(ea);break;case c('UFIConstants').UFIActionType.CONFIRM_COMMENT_REMOVAL:w(ea);break;case c('UFIConstants').UFIActionType.TRANSLATE_COMMENT:q(ea);break;case c('UFIConstants').UFIActionType.COMMENT_LIKECOUNT_UPDATE:p(ea);break;case c('UFIConstants').UFIActionType.UPDATE_CONSTITUENT_TITLE:y(ea);break;}}}function n(ba,ca,da,ea,fa,ga){var ha=aa.getComment(ca);if(ha){var ia={},ja=ba&&c('ClientIDs').isExistingClientID(ba);if(!ja){ia.hasviewerliked=da;ia.likecount=ea;if(fa){ia.reactioncount=fa.reactioncount;ia.reactioncountmap=fa.reactioncountmap;ia.reactioncountreduced=fa.reactioncountreduced;ia.viewerreaction=fa.viewerreaction;}}if(ga===c('UFIConstants').UFIPayloadSourceType.LIVE_SEND||ga===c('UFIConstants').UFIPayloadSourceType.STREAMING)new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('comment_like').setOriginatedLocally(ja).setCommentID(ca).log();ia.likeconfirmhash=c('randomInt')(0,1024);z(ca,ia);}}function o(ba){var ca=aa.getComment(ba.commentid);if(ca){var da={};if(ba.clientid&&c('ClientIDs').isExistingClientID(ba.clientid)&&ba.viewerreaction!==ca.viewerreaction)return;da.hasviewerliked=ba.hasviewerliked;da.likecount=ba.likecount;da.reactioncount=ba.reactioncount;da.reactioncountmap=ba.reactioncountmap;da.reactioncountreduced=ba.reactioncountreduced;da.viewerreaction=ba.viewerreaction;z(ba.commentid,da);}}function p(ba){var ca=aa.getComment(ba.commentid);if(ca&&ba.hasviewerliked===ca.hasviewerliked){var da={likecount:ba.likecount,likeconfirmhash:c('randomInt')(0,1024)};z(ba.commentid,da);}}function q(ba){var ca=ba.commentid,da=aa.getComment(ca);if(da){var ea={translationdata:ba.translationdata,translatedbody:ba.translatedbody};z(ca,ea);}}function r(ba){var ca={reportLink:ba.reportLink,commenterIsFOF:ba.commenterIsFOF,userIsMinor:ba.userIsMinor,giveFeedbackLink:ba.giveFeedbackLink,reportGroupAdminLink:ba.reportGroupAdminLink};return ca;}function s(ba){var ca=aa.getComment(ba.commentid);x(ca,c('UFIConstants').UFIStatus.DELETED);}function t(ba){var ca=aa.getComment(ba.commentid);if(ca&&ca.status!==c('UFIConstants').UFIStatus.DELETED)x(ca,c('UFIConstants').UFIStatus.LIVE_DELETED);}function u(ba){z(ba.commentid,{attachment:null});}function v(ba){var ca=aa.getComment(ba.commentid),da=ba.shouldHideAsSpam?c('UFIConstants').UFIStatus.SPAM_DISPLAY:null;x(ca,da);}function w(ba){z(ba.commentid,r(ba));}function x(ba,ca){z(ba.id,{priorstatus:ba.status,status:ca});}function y(ba){var ca=aa.getComment(ba.commentid);if(ca){var da={constituentTitle:ba.constituentTitle};z(ba.commentid,da);}}function z(ba,ca){var da=aa.getComment(ba)||new (c('ImmutableObject'))({});aa.setComment(ba,c('ImmutableObject').set(da,ca));c('UFICentralUpdates').didUpdateComment(da.id);c('UFICentralUpdates').didUpdateFeedback(da.ftentidentifier);}var aa={getComment:function ba(ca){if(ca===c('UFIConstants').unavailableCommentKey)return null;return i[k(ca)];},setComment:function ba(ca,da){!(da instanceof c('ImmutableObject'))?h(0):void 0;i[k(ca)]=da;},resetComments:function ba(ca){for(var da in ca)delete i[k(da)];}};c('UFICentralUpdates').subscribe('update-comments',function(ba,ca){if(ca.comments&&ca.comments.length)l(ca.comments,ca.payloadsource);});c('UFICentralUpdates').subscribe('update-actions',function(ba,ca){if(ca.actions&&ca.actions.length)m(ca.actions,ca.payloadsource);});f.exports=aa;}),6);
__d('UFIFeedbackTargets',['ClientIDs','KeyedCallbackManager','LiveWWWFeedbackTypedLogger','UFICentralUpdates','UFIConstants','UFIReactionTypes'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=new (c('KeyedCallbackManager'))();function i(r){var s={};r.forEach(function(t){var u=babelHelpers['extends']({},t);delete u.commentlist;delete u.commentcount;s[t.entidentifier]=u;c('UFICentralUpdates').didUpdateFeedback(t.entidentifier);});h.addResourcesAndExecute(s);}function j(r,s){for(var t=0;t<r.length;t++){var u=r[t];switch(u.actiontype){case c('UFIConstants').UFIActionType.LIKE_ACTION:k(u,s);break;case c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION:l(u);break;case c('UFIConstants').UFIActionType.DISABLE_COMMENTS:m(u);break;case c('UFIConstants').UFIActionType.REACTION:n(u);break;}}}function k(r,s){var t=p(r);if(t){var u=r.clientid&&c('ClientIDs').isExistingClientID(r.clientid);if(s===c('UFIConstants').UFIPayloadSourceType.LIVE_SEND||s===c('UFIConstants').UFIPayloadSourceType.STREAMING)new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('like').setOriginatedLocally(u).log();r.hasviewerliked=!!r.hasviewerliked;if(u&&r.hasviewerliked!=t.hasviewerliked)return;t.likecount=r.likecount||0;t.likesentences=r.likesentences;if(r.actorid==t.actorforpost){t.hasviewerliked=r.hasviewerliked;}else if(r.hasviewerliked!=t.hasviewerliked){t.likesentences={current:r.likesentences.alternate,alternate:r.likesentences.current};if(t.hasviewerliked){t.likecount++;}else t.likecount--;}if(r.actorid!=t.actorforpost)t.likesentences.isunseen=true;i([t]);}}function l(r){var s=p(r);if(s){r.hasviewersubscribed=!!r.hasviewersubscribed;if(r.clientid&&c('ClientIDs').isExistingClientID(r.clientid)&&r.hasviewersubscribed!=s.hasviewersubscribed)return;if(r.actorid==s.actorforpost)s.hasviewersubscribed=r.hasviewersubscribed;i([s]);}}function m(r){var s=p(r);if(s){s.cancomment=!!r.cancomment;s.arecommentsdisabled=!!r.arecommentsdisabled;s.commentdisablednotice=r.commentdisablednotice;i([s]);}}function n(r){var s=p(r);if(s){if(r.clientid&&c('ClientIDs').isExistingClientID(r.clientid)&&r.viewerreaction!==s.viewerreaction)return;o(s,r);if(s.actorforpost==r.actorid||s.viewerreaction==r.viewerreaction){s.importantreactorids=r.importantreactorids;s.reactioncount=r.reactioncount;s.reactioncountmap=r.reactioncountmap;s.reactioncountreduced=r.reactioncountreduced;s.reactionsentences=r.reactionsentences;s.reactorids=r.reactorids;s.userreactions=r.userreactions;s.viewerreaction=r.viewerreaction;}i([s]);}}function o(r,s){if(r.reactors&&r.actorforpost==s.actorid&&r.viewerreaction!=s.viewerreaction)if(s.viewerreaction==c('UFIReactionTypes').NONE){delete r.reactors[0];}else if(r.viewerreaction==c('UFIReactionTypes').NONE){r.reactors.unshift({name:r.ownname,profilepicsrc:r.ownprofpic,reaction:s.viewerreaction});}else r.reactors[0].reaction=s.viewerreaction;}function p(r){return h.getResource(r.entidentifier);}var q={getFeedbackTarget:function r(s,t){var u=h.executeOrEnqueue(s,t),v=h.getUnavailableResources(u);v.length;return u;},getFeedbackTargetIfExists:function r(s){return h.getResource(s)||null;},unsubscribe:function r(s){h.unsubscribe(s);}};c('UFICentralUpdates').subscribe('update-feedback',function(r,s){var t=s.feedbacktargets;if(t&&t.length)i(t);});c('UFICentralUpdates').subscribe('update-actions',function(r,s){if(s.actions&&s.actions.length)j(s.actions,s.payloadsource);});f.exports=q;}),6);
__d('UFIPagedCommentList',['ClientIDs','KeyedCallbackManager','UFICentralUpdates','UFICommentLogger','UFIConfig','UFIConstants','UFIFeedbackTargets','keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({actorID:true});function i(j){this.count=0;this.deletedComments={};this.deletedCount=0;this.dataSource=new (c('KeyedCallbackManager'))();this.feedbackTargetID=j;this.lastRequestedOffset=0;this.lastRequestedLength=0;this.basePermalink='';this.commentPermalinks={};c('UFIFeedbackTargets').getFeedbackTarget(this.feedbackTargetID,function(k){this.actorID=k.actorforpost;this.basePermalink=k.permalink;}.bind(this));}i.prototype.addOrUpdateComment=function(j){if(j.islocal){this.$UFIPagedCommentList1(j.id);}else this.$UFIPagedCommentList2(j.id,j.clientid,j.legacyid);c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID);};i.prototype.$UFIPagedCommentList1=function(j){this.dataSource.setResource(this.count,j);this.count++;};i.prototype.$UFIPagedCommentList2=function(j,k,l){var m=k&&c('ClientIDs').isExistingClientID(k),n=this.dataSource.getAllResources(),o={};for(var p in n){var q=n[p];o[q]=p;}if(m&&k in o){o[j]=o[k];var r=o[k];this.dataSource.setResource(r,j);if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentReceived(k,Date.now());}else if(!o[j]&&k)this.$UFIPagedCommentList1(j);if(l&&j in o)this.commentPermalinks[j]=this.buildCommentPermalink(j,l,o[j]);};i.prototype.addCommentIDs=function(j,k,l){var m={};for(var n=0;n<k;n++)m[j+n]=l[n]||c('UFIConstants').unavailableCommentKey;this.dataSource.addResourcesAndExecute(m);c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID);return this;};i.prototype.getComments=function(j,k,l,m){var n=new Array(k).fill().map(function(t,u){return u+j;}),o=this.dataSource.getUnavailableResourcesFromRequest(n);if(o.length){var p=Math.min.apply(Math,o),q=Math.max.apply(Math,o),r=p,s=q-p+1;if(r<this.lastRequestedOffset||r+s>this.lastRequestedOffset+this.lastRequestedLength){this.lastRequestedOffset=r;this.lastRequestedLength=s;this.fetchComments(r,s,l);}}else this.dataSource.executeOrEnqueue(n,function(t){return m(this.commentsFromCommentIDs(t,j,k));}.bind(this));};i.prototype.getCommentsOrThrow=function(j){var k=j.getLength(),l=j.getOffset(),m={};new Array(k).fill().forEach(function(n,o){var p=o+l,q=this.dataSource.getResource(p);if(!q)throw new Error('Tried to get nonexistent comment');m[p]=q;}.bind(this));return this.commentsFromCommentIDs(m,l,k);};i.prototype.fetchComments=function(j,k,l){};i.prototype.commentsFromCommentIDs=function(j,k,l){};i.prototype.reset=function(){var j=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return j;};i.prototype.deleteComment=function(j){if(!(j in this.deletedComments)){this.deletedComments[j]=true;this.deletedCount++;}};i.prototype.updateCommentCount=function(j){this.count=j;this.deletedCount=0;return this;};i.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};i.prototype.getCommentCount=function(){return this.count;};i.prototype.getDeletedCount=function(){return this.deletedCount;};i.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount;};i.prototype.getBasePermalink=function(){return this.basePermalink;};i.prototype.buildCommentPermalink=function(j,k,l){};i.prototype.getPermalinkForComment=function(j){return this.commentPermalinks[j];};i.isValidContextPropertyForReset=function(j){return j in h;};f.exports=i;}),null);
__d('UFIRange',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){this.offset=i||0;this.length=j||0;this.requestedOffset=this.offset;this.requestedLength=this.length;}h.prototype.getOffset=function(){return this.offset;};h.prototype.getLength=function(){return this.length;};h.prototype.getRequestedOffset=function(){return this.requestedOffset;};h.prototype.getRequestedLength=function(){return this.requestedLength;};h.prototype.updateRequestedRange=function(i,j){this.requestedOffset=i;this.requestedLength=j;return this;};h.prototype.isLoadingNext=function(){var i=this.requestedOffset+this.requestedLength,j=this.offset+this.length;return i>j;};h.prototype.isLoadingPrev=function(){return this.requestedOffset<this.offset;};h.combine=function(i,j){if(!j)return i;var k=Math.min(i.getOffset(),j.getOffset()),l=Math.max(i.getLength(),j.getLength()),m=new h(k,l);if(j.getRequestedLength()>0){var n=Math.min(k,j.getRequestedOffset()),o=Math.max(k+l,j.getRequestedOffset()+j.getRequestedLength());m.updateRequestedRange(n,o-n);}return m;};f.exports=h;}),null);
__d('MercuryLoggingHelper',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return Array.from(j).slice(0,6).join('');}var i={obfuscateThread:function j(k){var l=babelHelpers['extends']({},k);if(k&&k.snippet&&k.snippet.length>9)l.snippet=h(k.snippet)+'...';return l;},obfuscateMessage:function j(k){var l=babelHelpers['extends']({},k);if(k&&k.body&&k.body.length>9)l.body=h(k.body)+'...';return l;}};f.exports=i;}),null);
__d('MercuryServerDispatcher',['AsyncRequest','BanzaiLogger','ChatPerfEvent','CurrentUser','LogHistory','MercuryLoggingHelper','areJSONRepresentationsEqual','debounceAcrossTransitions','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={},i=c('LogHistory').getInstance('mercury_server_dispatcher'),j=false,k={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',DEFAULT_ENDPOINT_ID:'mercuryServerDispatcherDefaultEndpointID',registerEndpoints:function n(o){for(var p in o){var q=o[p],r=q.request_user_id||c('CurrentUser').getID(),s=q.endpoint_id||k.DEFAULT_ENDPOINT_ID;if(!h[p])h[p]={};if(!h[p][r])h[p][r]={};h[p][r][s]=new l(p,q);}},trySend:function n(o,p,q,r,s){r=r||c('CurrentUser').getID();s=s||k.DEFAULT_ENDPOINT_ID;h[o][r][s].trySend(p,q);}};function l(n,o){var p=o.mode||k.IMMEDIATE;switch(p){case k.IMMEDIATE:case k.IDEMPOTENT:case k.BATCH_SUCCESSIVE:case k.BATCH_SUCCESSIVE_UNIQUE:case k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case k.BATCH_DEFERRED_MULTI:case k.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+p);}this._endpoint=n;this._mode=p;this._customHeader=o.customHeader;this._requestUserID=o.request_user_id;this._combineData=o.batch_function;this._combineDataIf=o.batch_if;this._batchSizeLimit=o.batch_size_limit;this._batches=[];this._handler=o.handler;this._errorHandler=o.error_handler;this._transportErrorHandler=o.transport_error_handler||o.error_handler;this._connectionRetries=o.connection_retries||0;this._timeoutHandler=o.timeout_handler;this._timeout=o.timeout;this._serverDialogCancelHandler=o.server_dialog_cancel_handler||o.error_handler;this._deferredSend=c('debounceAcrossTransitions')(this._batchSend,0,this);}Object.assign(l.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function n(o,p){if(j)return;if(o===undefined)o=null;var q=p||this._mode;if(q==k.IMMEDIATE){this._send(o);}else if(q==k.IDEMPOTENT){if(!this._inFlight)this._send(o);}else if(q==k.BATCH_SUCCESSIVE||q==k.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(o);}else this._batchData(o);}else if(q==k.BATCH_CONDITIONAL){var r=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,o)||this._combineDataIf(r,o))){this._batchData(o);}else this._send(o);}else if(q==k.BATCH_DEFERRED_MULTI){this._batchData(o);this._deferredSend();}else if(q==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(o);if(!this._inFlight)this._batchSend();}},_send:function n(o){this._inFlight++;this._pendingRequestData=babelHelpers['extends']({},o);if(this._requestUserID!=c('CurrentUser').getID())o.request_user_id=this._requestUserID;i.log('send',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var p=c('performanceAbsoluteNow')(),q=new (c('AsyncRequest'))(this._endpoint).setData(o).setOption('retries',this._connectionRetries).setHandler(function(r){c('BanzaiLogger').log('ChatPerfLoggerConfig',{event:c('ChatPerfEvent').ASYNC_REQUEST,duration:c('performanceAbsoluteNow')()-p,endpoint:this._endpoint});this._handleResponse(r);}.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._customHeader)q.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._timeout&&this._timeoutHandler)q.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));q.send();},_batchData:function n(o,p){if(this._mode==k.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==undefined&&c('areJSONRepresentationsEqual')(o,this._pendingRequestData)){return;}else{var q=this._batches.length-1;if(q>=0&&!this._hasReachedBatchLimit(this._batches[q])){p?this._batches[q].combineWithOlder(o,this._combineData):this._batches[q].combineWith(o,this._combineData);}else this._batches.push(new m(o));i.debug('batch',JSON.stringify({endpoint:this._endpoint,batch_limit:this._batchSizeLimit}));}},_hasReachedBatchLimit:function n(o){return this._batchSizeLimit&&o.getSize()>=this._batchSizeLimit;},_batchSend:function n(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function n(o){this._inFlight--;i.log('response',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var p=o.getPayload();j=p&&p.kill_chat;if(j)i.log('killswitch_enabled',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));if(p&&p.error_payload){if(this._errorHandler)this._errorHandler(o);}else this._handler&&this._handler(p,o.getRequest());if(this._mode==k.BATCH_SUCCESSIVE||this._mode==k.BATCH_SUCCESSIVE_UNIQUE||this._mode==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==k.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function n(){this._inFlight--;i.error('error',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var o=this._mode;if(o==k.BATCH_SUCCESSIVE||o==k.BATCH_SUCCESSIVE_UNIQUE||o==k.BATCH_CONDITIONAL){this._batchSend();}else if(o==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_handleError:function n(o){this._errorHandler&&this._errorHandler(o);this._postErrorHandler();},_handleTransportError:function n(o){this._transportErrorHandler&&this._transportErrorHandler(o);this._postErrorHandler();},_handleTimeout:function n(o){this._timeoutHandler&&this._timeoutHandler(o);this._postErrorHandler();},_handleServerDialogCancel:function n(o){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(o);this._postErrorHandler();}});function m(n){this._data=n;this._size=1;}Object.assign(m.prototype,{getData:function n(){return this._data;},getSize:function n(){return this._size;},combineWith:function n(o,p){this._data=p(this._data,o);this._size++;},combineWithOlder:function n(o,p){this._data=p(o,this._data);this._size++;}});f.exports=k;}),null);
__d('UFIReplyCommentList',['ActorURI','getObjectValues','JSLogger','MercuryServerDispatcher','UFICentralUpdates','UFIPagedCommentList','UFICommentLogger','UFIComments','UFIConfig','UFIConstants','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j={},k=c('JSLogger').create('ufi_reply_comment_list');h=babelHelpers.inherits(l,c('UFIPagedCommentList'));i=h&&h.prototype;l.getCommentList=function(n,o,p){if(!j[o])j[o]={};if(!j[o][p]){var q=new l(n,o,p),r=l.getReplyListsForParentCommentID(o);if(r.length)q.updateCommentCount(r[0].getCommentCount());j[o][p]=q;}return j[o][p];};l.getReplyListsForParentCommentID=function(n){return c('getObjectValues')(j[n]||{});};l.resetWithContext=function(n,o,p,q){var r=j[o][q];if(!r)return;r.reset();for(var s in p)if(this.isValidContextPropertyForReset(s))r[s]=p[s];};function l(n,o,p){i.constructor.call(this,n);this.parentCommentID=o;this.containerOrderingMode=p;}l.prototype.fetchComments=function(n,o,p){if(c('UFIConfig').logCommentLoad)c('UFICommentLogger').logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:o,is_reply:true});var q={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[n],lengths:[o],feed_context:p?p.feedContext:null,numpagerclicks:p?p.numPagerClicks:null,containerorderingmode:this.containerOrderingMode,translate_all:p?p.translateAll:null};if(!p||!p.viewAs)q[c('ActorURI').PARAMETER_ACTOR]=this.actorID;c('MercuryServerDispatcher').trySend('/ajax/ufi/reply_fetch.php',q);};l.prototype.commentsFromCommentIDs=function(n,o,p){var q={};for(var r=0;r<p;r++){var s=c('UFIComments').getComment(n[o+r]);if(s)q[o+r]=s;}return q;};l.prototype.reset=function(){var n=i.reset.call(this),o={};for(var p in n){var q=n[p];o[q]=true;}c('UFIComments').resetComments(o);};l.prototype.getParentCommentID=function(){return this.parentCommentID;};l.prototype.buildCommentPermalink=function(n,o,p){if(!this.basePermalink)return null;var q=this.getParentCommentID().split("_"),r=o;if(q.length===2){r=q[1];}else k.error("Bad reply comment ID: "+this.getParentCommentID());return (new (c('URI'))(this.basePermalink).addQueryData({comment_id:r,reply_comment_id:o}).toString());};c('MercuryServerDispatcher').registerEndpoints({'/ajax/ufi/reply_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE}});function m(n){var o=c('UFIComments').getComment(n.commentid),p=o.id,q=o.parentcommentid;if(!q)return;if(o.status!==c('UFIConstants').UFIStatus.DELETED&&o.status!==c('UFIConstants').UFIStatus.FAILED_ADD)l.getReplyListsForParentCommentID(q).forEach(function(r){r.deleteComment(p);});}c('UFICentralUpdates').subscribe('update-actions',function(n,o){if(o.actions&&o.actions.length)for(var p=0;p<o.actions.length;p++){var q=o.actions[p];switch(q.actiontype){case c('UFIConstants').UFIActionType.DELETE_COMMENT:m(q);break;}}});c('UFICentralUpdates').subscribe('update-comment-lists',function(n,o){var p=o.commentlists;if(p&&p.replies&&Object.keys(p).length)for(var q in p.replies){var r=p.replies[q],s=r.ftentidentifier,t=r.containerorderingmode;l.getCommentList(s,q,t).addCommentIDs(r.range.offset,r.range.length,r.values).updateCommentCount(r.count);}});c('UFICentralUpdates').subscribe('update-comments',function(n,o){if(o.comments&&o.comments.length)o.comments.forEach(function(p){var q=p.parentcommentid;if(!q)return;l.getReplyListsForParentCommentID(q).forEach(function(r){r.addOrUpdateComment(p);});});});f.exports=l;}),6);
__d('UFIToplevelStreamedCommentList',['invariant','ClientIDs','Map','UFICentralUpdates','UFICommentLogger','UFIConfig','UFIComments','UFIConstants','UFIRange'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.feedbackTargetID=j;this.commentIDs=[];this.deletedCount=0;this.totalCommentCount=0;}i.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};i.prototype.getClientHasAll=function(){return false;};i.prototype.getActualCommentCount=function(){return this.commentIDs.length;};i.prototype.getCommentCount=function(){return this.totalCommentCount;};i.prototype.getDisplayedCommentCount=function(){return this.getCommentCount()-this.getDeletedCount();};i.prototype.getDeletedCount=function(){return this.deletedCount;};i.prototype.getPermalinkForComment=function(j){return '';};i.prototype.getComments=function(j,k,l,m){m(this.getCommentsOrThrow(new (c('UFIRange'))(j,k),l));};i.prototype.getCommentsOrThrow=function(j,k){var l=j.getLength(),m=j.getOffset();!(m===0)?h(0):void 0;var n=k.streamingOrderReversed,o={};for(var p=0;p<Math.min(l,this.commentIDs.length);++p){var q=n?this.commentIDs.length-1-p:p,r=c('UFIComments').getComment(this.commentIDs[q]);if(r)o[p]=r;}return o;};i.prototype.$UFIToplevelStreamedCommentList3=function(){var j=this.commentIDs;this.commentIDs=[];return j;};i.prototype.hasComment=function(j){for(var k=0;k<this.commentIDs.length;++k)if(this.commentIDs[k]===j.id)return true;return false;};i.prototype.addOrUpdateComment=function(j,k){var l=j.clientid;if(l&&c('ClientIDs').isExistingClientID(l)){for(var m=0;m<this.commentIDs.length;++m)if(this.commentIDs[m]===l){this.commentIDs[m]=j.id;if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentReceived(l,Date.now());}}else if(k||j.islocal){if(this.hasComment(j))return;this.commentIDs.push(j.id);this.totalCommentCount+=1;}if(this.commentIDs.length>50)this.commentIDs.shift();c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID);};i.prototype.deleteComment=function(j){var k=[];for(var l=0;l<this.commentIDs.length;++l){var m=this.commentIDs[l];if(m===j){this.deletedCount+=1;}else k.push(m);}this.commentIDs=k;};i.prototype.updateCommentCount=function(j){this.totalCommentCount=j;};i.getCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.$UFIToplevelStreamedCommentList1.get(j);if(!l){l=new (c('Map'))();i.$UFIToplevelStreamedCommentList1.set(j,l);}var m=l.get(k);if(!m){m=new i(j);l.set(k,m);}return m;};i.getExistingCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.$UFIToplevelStreamedCommentList1.get(j);if(!l)return null;return l.get(k);};i.getAllExistingCommentLists=function(j){var k=i.$UFIToplevelStreamedCommentList1.get(j);if(!k)return [];return Array.from(k.values());};i.$UFIToplevelStreamedCommentList4=function(j,k){var l=i.$UFIToplevelStreamedCommentList2.get(j);if(l){k.forEach(function(n){l[n]=true;});return;}var m={};k.forEach(function(n){m[n]=true;});i.$UFIToplevelStreamedCommentList2.set(j,m);};i.resetCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.getExistingCommentList(j,k);if(!l)return;i.$UFIToplevelStreamedCommentList4(j,l.$UFIToplevelStreamedCommentList3());};i.resetAllCommentLists=function(j){var k=i.getAllExistingCommentLists(j);if(k.length===0)return;k.forEach(function(m){i.$UFIToplevelStreamedCommentList4(j,m.$UFIToplevelStreamedCommentList3());});var l=i.$UFIToplevelStreamedCommentList2.get(j);if(l){i.$UFIToplevelStreamedCommentList2['delete'](j);c('UFIComments').resetComments(l);}};i.GLOBAL_ID='GLOBAL_ID';i.$UFIToplevelStreamedCommentList1=new (c('Map'))();i.$UFIToplevelStreamedCommentList2=new (c('Map'))();c('UFICentralUpdates').subscribe('update-actions',function(j,k){if(!k.actions)return;k.actions.forEach(function(l){if(l.actiontype!==c('UFIConstants').UFIActionType.DELETE_COMMENT)return;var m=c('UFIComments').getComment(l.commentid),n=m.id,o=m.ftentidentifier,p=m.parentcommentid;if(p)return;if(l.islocal||m.status!==c('UFIConstants').UFIStatus.DELETED&&m.status!==c('UFIConstants').UFIStatus.FAILED_ADD)i.getCommentList(o).deleteComment(n);});});c('UFICentralUpdates').subscribe('update-comments',function(j,k){if(!k.comments)return;var l=k.targetufiinstanceid;k.comments.forEach(function(m){if(m.parentcommentid)return;if(l){i.getCommentList(m.ftentidentifier,l).addOrUpdateComment(m,!!k.isstreaming);}else i.getAllExistingCommentLists(m.ftentidentifier).forEach(function(n){n.addOrUpdateComment(m,!!k.isstreaming);});});});f.exports=i;}),6);
__d('UFIToplevelPagedCommentList',['ActorURI','MercuryServerDispatcher','UFICentralUpdates','UFIPagedCommentList','UFICommentLogger','UFICommentOrdering','UFIComments','UFIConfig','UFIConstants','UFIReplyCommentList','UFIToplevelStreamedCommentList','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j={};h=babelHelpers.inherits(k,c('UFIPagedCommentList'));i=h&&h.prototype;k.getCommentList=function(m,n){if(!j[m])j[m]={};if(!j[m][n]){var o=new k(m,n),p=k.getCommentListsForFeedbackTargetID(m);if(p.length)o.updateCommentCount(p[0].getCommentCount());j[m][n]=o;}return j[m][n];};k.getCommentListsForFeedbackTargetID=function(m){var n=[],o=j[m]||{};for(var p in o)n.push(o[p]);return n;};k.getDisplayedCommentCountForFeedbackTargetID_UNSAFE=function(m){var n=k.getCommentListsForFeedbackTargetID(m),o=n.length?n[0].getDisplayedCommentCount():null,p=c('UFIToplevelStreamedCommentList').getAllExistingCommentLists(m),q=p.length?p[0].getDisplayedCommentCount():null;if(o===null&&q===null)return null;return Math.max(o,q);};k.resetCommentListsForFeedbackTargetID=function(m){if(!j[m])return;var n={};for(var o in j[m]){var p=j[m][o],q=p.reset();for(var r in q){var s=q[r];n[s]=true;}}c('UFIComments').resetComments(n);};k.resetCommentListsWithContext=function(m,n){if(!j[m])return;var o={};for(var p in j[m]){var q=j[m][p];for(var r in n)if(this.isValidContextPropertyForReset(r))q[r]=n[r];var s=q.reset();for(var t in s){var u=s[t];o[u]=true;c('UFIReplyCommentList').resetWithContext(m,u,n,p);}}c('UFIComments').resetComments(o);};function k(m,n){i.constructor.call(this,m);this.orderReversed=false;if(c('UFICommentOrdering').inverted(n))this.orderReversed=true;this.orderingMode=n;this.clientHasAll=false;}k.prototype.fetchComments=function(m,n,o){if(c('UFIConfig').logCommentLoad)c('UFICommentLogger').logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:n,is_reply:false});var p={ft_ent_identifier:this.feedbackTargetID,viewas:o&&o.viewAs?o.viewAs+'':null,source:o&&o.feedbackSource,offset:m,length:n,orderingmode:this.orderingMode,feed_context:o?o.feedContext:null,numpagerclicks:o?o.numPagerClicks:null,translate_all:o?o.translateAll:null};switch(this.orderingMode){case c('UFIConstants').UFICommentOrderingMode.RECENT_ACTIVITY:case c('UFIConstants').UFICommentOrderingMode.RANKED_THREADED:case c('UFIConstants').UFICommentOrderingMode.FILTERED:p.clientcommentcount=this.count;}if(!o||!o.viewAs)p[c('ActorURI').PARAMETER_ACTOR]=this.actorID;c('MercuryServerDispatcher').trySend('/ajax/ufi/comment_fetch.php',p);};k.prototype.commentsFromCommentIDs=function(m,n,o){var p={},q=n,r=n+o-1;for(var s=0;s<o;s++){var t=this.orderReversed?r-s:q+s,u=c('UFIComments').getComment(m[t]);if(u)p[n+s]=u;}return p;};k.prototype.getOrderingMode=function(){return this.orderingMode;};k.prototype.setClientHasAll=function(m){this.clientHasAll=m;return this;};k.prototype.getClientHasAll=function(){return this.clientHasAll;};k.prototype.buildCommentPermalink=function(m,n,o){if(!this.basePermalink)return null;return (new (c('URI'))(this.basePermalink).addQueryData({comment_id:n}).toString());};c('MercuryServerDispatcher').registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE}});function l(m){var n=c('UFIComments').getComment(m.commentid),o=n.id,p=n.ftentidentifier,q=n.parentcommentid;if(q)return;if(m.islocal||n.status!==c('UFIConstants').UFIStatus.DELETED&&n.status!==c('UFIConstants').UFIStatus.FAILED_ADD)k.getCommentListsForFeedbackTargetID(p).forEach(function(r){r.deleteComment(o);});}c('UFICentralUpdates').subscribe('update-actions',function(m,n){if(n.actions&&n.actions.length)for(var o=0;o<n.actions.length;o++){var p=n.actions[o];switch(p.actiontype){case c('UFIConstants').UFIActionType.DELETE_COMMENT:l(p);break;}}});c('UFICentralUpdates').subscribe('update-comment-lists',function(m,n){var o=n.commentlists;if(o&&o.comments&&Object.keys(o).length)for(var p in o.comments)for(var q in o.comments[p]){var r=o.comments[p][q],s=k.getCommentList(p,q).addCommentIDs(r.range.offset,r.range.length,r.values);s.setClientHasAll(!!r.forcenotpageable);}});c('UFICentralUpdates').subscribe('update-comments',function(m,n){if(n.comments&&n.comments.length)n.comments.forEach(function(o){if(o.parentcommentid)return;var p=o.ftentidentifier;k.getCommentListsForFeedbackTargetID(p).forEach(function(q){q.addOrUpdateComment(o);});});});c('UFICentralUpdates').subscribe('update-feedback',function(m,n){if(n.feedbacktargets&&n.feedbacktargets.length)n.feedbacktargets.forEach(function(o){var p=o.entidentifier,q=o.defaultcommentorderingmode,r={};if(q)r[q]=true;if(o.orderingmodes)o.orderingmodes.forEach(function(t){if(t.value===c('UFIConstants').UFICommentOrderingMode.LIVE_STREAMING)return;r[t.value]=true;});for(var s in r)k.getCommentList(p,s).updateCommentCount(o.commentcount);});});f.exports=k;}),6);
__d('ExplicitRegistrationReactDispatcher',['ExplicitRegistrationDispatcher','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;j.prototype.dispatch=function(k){c('ReactDOM').unstable_batchedUpdates(function(){i.dispatch.call(this,k);}.bind(this));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('LtgTranslateAllDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('ExplicitRegistrationReactDispatcher'))({strict:true});}),null);
__d('Nectar',['Env','getContextualParent'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k){if(!k.nctr)k.nctr={};}function i(k){if(c('Env').module||!k)return c('Env').module;var l={fbpage_fan_confirm:true,photos_snowlift:true},m;while(k&&k.getAttribute){var n=k.getAttribute('id');if(n!=null&&n.startsWith('pagelet_'))return n;if(!m&&l[n])m=n;k=c('getContextualParent')(k);}return m;}var j={addModuleData:function k(l,m){var n=i(m);if(n){h(l);l.nctr._mod=n;}},addImpressionID:function k(l){if(c('Env').impid){h(l);l.nctr._impid=c('Env').impid;}}};f.exports=j;}),null);
__d('NumberFormat',['NumberFormatConfig'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/(\d{3})(?=\d)/g;function i(l){return (''+l).split('').reverse().join('');}function j(l,m){if(Math.abs(l).toString().length<c('NumberFormatConfig').minDigitsForThousandsSeparator)return l.toString();var n=i(''+l);return i(n.replace(h,'$1'+m));}var k={formatIntegerWithDelimiter:j,formatInteger:function l(m){return j(m,c('NumberFormatConfig').numberDelimiter);}};f.exports=k;}),null);
__d('UFIReactionsUtils',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getReactionData:function i(j,k,l,m,n){k=parseInt(k,10);var o=!!k,p=j.reactorids?j.reactorids.slice(0):[],q=p.indexOf(l),r=0;if(o){if(q<0){p.unshift(l);r=1;}}else if(q>-1){p.splice(q,1);r=-1;}var s=Math.max(j.reactioncount+r,0),t=j.reactioncountreduced;if(t&&!isNaN(t))if(m){t=m(s,n);}else t=s.toString();var u=j.reactioncountmap||{},v,w=j.viewerreaction;if(w&&u[w]){u[w]['default']=Math.max((u[w]['default']||0)-1,0);v=u[w].reduced;if(v&&!isNaN(v))u[w].reduced=u[w]['default'].toString();}if(o&&u[k]){u[k]['default']=(u[k]['default']||0)+1;v=u[k].reduced;if(v&&!isNaN(v))u[k].reduced=u[k]['default'].toString();}var x=j.userreactions;if(!x||Array.isArray(x))x={};if(o){x[l]=k;}else delete x[l];var y=j.importantreactorids||[],z=y.indexOf(l);if(o&&z===-1){y.unshift(l);}else if(!o&&z!==-1)y.splice(z,1);var aa=null;if(j.reactionsentences){var ba=!(w&&k);aa={current:j.reactionsentences[ba?'alternate':'current'],alternate:j.reactionsentences[ba?'current':'alternate']};}return {importantreactorids:y,reactioncount:s,reactioncountmap:u,reactioncountreduced:t,reactionsentences:aa,reactorids:p,userreactions:x,viewerreaction:k};},getReactionCountMapFromSummary:function i(j){var k={};if(!j)return k;for(var l=0;l<j.length;l++){var m=j[l],n=m.feedback_reaction.key;k[n]={'default':m.reactors&&m.reactors.count,reduced:m.reactors&&m.reactors.display_count};}return k;}};f.exports=h;}),null);
__d('UnicodeBidiDirection',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='NEUTRAL',j='LTR',k='RTL';function l(p){return p===j||p===k;}function m(p){!l(p)?h(0):void 0;return p===j?'ltr':'rtl';}function n(p,q){!l(p)?h(0):void 0;!l(q)?h(0):void 0;return p===q?null:m(p);}var o={NEUTRAL:i,LTR:j,RTL:k,isStrong:l,getHTMLDir:m,getHTMLDirIfDifferent:n};f.exports=o;}),null);
__d('UnicodeBidiGlobalDirectionCore',['invariant','UnicodeBidiDirection'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=null;function j(n){i=n;}function k(){j(c('UnicodeBidiDirection').LTR);}function l(){if(!i)this.initDir();!i?h(0):void 0;return i;}var m={setDir:j,initDir:k,getDir:l};f.exports=m;}),null);
__d('UnicodeBidiGlobalDirection',['Locale','UnicodeBidiDirection','UnicodeBidiGlobalDirectionCore'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();c('UnicodeBidiGlobalDirectionCore').initDir=function(){c('UnicodeBidiGlobalDirectionCore').setDir(c('Locale').isRTL()?c('UnicodeBidiDirection').RTL:c('UnicodeBidiDirection').LTR);};f.exports=c('UnicodeBidiGlobalDirectionCore');}),null);
__d('UnicodeBidi',['invariant','UnicodeBidiDirection','UnicodeBidiGlobalDirection'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={L:'A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u01BA\u01BB'+'\u01BC-\u01BF\u01C0-\u01C3\u01C4-\u0293\u0294\u0295-\u02AF\u02B0-\u02B8'+'\u02BB-\u02C1\u02D0-\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376-\u0377'+'\u037A\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1'+'\u03A3-\u03F5\u03F7-\u0481\u0482\u048A-\u052F\u0531-\u0556\u0559'+'\u055A-\u055F\u0561-\u0587\u0589\u0903\u0904-\u0939\u093B\u093D'+'\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0950\u0958-\u0961\u0964-\u0965'+'\u0966-\u096F\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098C'+'\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD'+'\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09CE\u09D7\u09DC-\u09DD'+'\u09DF-\u09E1\u09E6-\u09EF\u09F0-\u09F1\u09F4-\u09F9\u09FA\u0A03'+'\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33'+'\u0A35-\u0A36\u0A38-\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F'+'\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0'+'\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0AD0'+'\u0AE0-\u0AE1\u0AE6-\u0AEF\u0AF0\u0B02-\u0B03\u0B05-\u0B0C\u0B0F-\u0B10'+'\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40'+'\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0B5C-\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F'+'\u0B70\u0B71\u0B72-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95'+'\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9'+'\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7'+'\u0BE6-\u0BEF\u0BF0-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10'+'\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C59\u0C60-\u0C61'+'\u0C66-\u0C6F\u0C7F\u0C82-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8'+'\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CBE\u0CBF\u0CC0-\u0CC4\u0CC6'+'\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0CDE\u0CE0-\u0CE1\u0CE6-\u0CEF'+'\u0CF1-\u0CF2\u0D02-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D'+'\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D57\u0D60-\u0D61'+'\u0D66-\u0D6F\u0D70-\u0D75\u0D79\u0D7A-\u0D7F\u0D82-\u0D83\u0D85-\u0D96'+'\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF'+'\u0DE6-\u0DEF\u0DF2-\u0DF3\u0DF4\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45'+'\u0E46\u0E4F\u0E50-\u0E59\u0E5A-\u0E5B\u0E81-\u0E82\u0E84\u0E87-\u0E88'+'\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7'+'\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6'+'\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F01-\u0F03\u0F04-\u0F12\u0F13\u0F14'+'\u0F15-\u0F17\u0F1A-\u0F1F\u0F20-\u0F29\u0F2A-\u0F33\u0F34\u0F36\u0F38'+'\u0F3E-\u0F3F\u0F40-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C'+'\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FCF\u0FD0-\u0FD4\u0FD5-\u0FD8'+'\u0FD9-\u0FDA\u1000-\u102A\u102B-\u102C\u1031\u1038\u103B-\u103C\u103F'+'\u1040-\u1049\u104A-\u104F\u1050-\u1055\u1056-\u1057\u105A-\u105D\u1061'+'\u1062-\u1064\u1065-\u1066\u1067-\u106D\u106E-\u1070\u1075-\u1081'+'\u1083-\u1084\u1087-\u108C\u108E\u108F\u1090-\u1099\u109A-\u109C'+'\u109E-\u109F\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FB\u10FC'+'\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288'+'\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5'+'\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u1368'+'\u1369-\u137C\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166D-\u166E'+'\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EB-\u16ED\u16EE-\u16F0'+'\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735-\u1736'+'\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5'+'\u17C7-\u17C8\u17D4-\u17D6\u17D7\u17D8-\u17DA\u17DC\u17E0-\u17E9'+'\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18A8\u18AA'+'\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930-\u1931'+'\u1933-\u1938\u1946-\u194F\u1950-\u196D\u1970-\u1974\u1980-\u19AB'+'\u19B0-\u19C0\u19C1-\u19C7\u19C8-\u19C9\u19D0-\u19D9\u19DA\u1A00-\u1A16'+'\u1A19-\u1A1A\u1A1E-\u1A1F\u1A20-\u1A54\u1A55\u1A57\u1A61\u1A63-\u1A64'+'\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AA6\u1AA7\u1AA8-\u1AAD'+'\u1B04\u1B05-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B45-\u1B4B'+'\u1B50-\u1B59\u1B5A-\u1B60\u1B61-\u1B6A\u1B74-\u1B7C\u1B82\u1B83-\u1BA0'+'\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAE-\u1BAF\u1BB0-\u1BB9\u1BBA-\u1BE5\u1BE7'+'\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1BFC-\u1BFF\u1C00-\u1C23\u1C24-\u1C2B'+'\u1C34-\u1C35\u1C3B-\u1C3F\u1C40-\u1C49\u1C4D-\u1C4F\u1C50-\u1C59'+'\u1C5A-\u1C77\u1C78-\u1C7D\u1C7E-\u1C7F\u1CC0-\u1CC7\u1CD3\u1CE1'+'\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF2-\u1CF3\u1CF5-\u1CF6\u1D00-\u1D2B'+'\u1D2C-\u1D6A\u1D6B-\u1D77\u1D78\u1D79-\u1D9A\u1D9B-\u1DBF\u1E00-\u1F15'+'\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D'+'\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC'+'\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E'+'\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D'+'\u2124\u2126\u2128\u212A-\u212D\u212F-\u2134\u2135-\u2138\u2139'+'\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2182\u2183-\u2184'+'\u2185-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF'+'\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2C7B\u2C7C-\u2C7D\u2C7E-\u2CE4'+'\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F'+'\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE'+'\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005\u3006\u3007'+'\u3021-\u3029\u302E-\u302F\u3031-\u3035\u3038-\u303A\u303B\u303C'+'\u3041-\u3096\u309D-\u309E\u309F\u30A1-\u30FA\u30FC-\u30FE\u30FF'+'\u3105-\u312D\u3131-\u318E\u3190-\u3191\u3192-\u3195\u3196-\u319F'+'\u31A0-\u31BA\u31F0-\u31FF\u3200-\u321C\u3220-\u3229\u322A-\u3247'+'\u3248-\u324F\u3260-\u327B\u327F\u3280-\u3289\u328A-\u32B0\u32C0-\u32CB'+'\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5'+'\u4E00-\u9FCC\uA000-\uA014\uA015\uA016-\uA48C\uA4D0-\uA4F7\uA4F8-\uA4FD'+'\uA4FE-\uA4FF\uA500-\uA60B\uA60C\uA610-\uA61F\uA620-\uA629\uA62A-\uA62B'+'\uA640-\uA66D\uA66E\uA680-\uA69B\uA69C-\uA69D\uA6A0-\uA6E5\uA6E6-\uA6EF'+'\uA6F2-\uA6F7\uA722-\uA76F\uA770\uA771-\uA787\uA789-\uA78A\uA78B-\uA78E'+'\uA790-\uA7AD\uA7B0-\uA7B1\uA7F7\uA7F8-\uA7F9\uA7FA\uA7FB-\uA801'+'\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA823-\uA824\uA827\uA830-\uA835'+'\uA836-\uA837\uA840-\uA873\uA880-\uA881\uA882-\uA8B3\uA8B4-\uA8C3'+'\uA8CE-\uA8CF\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8F8-\uA8FA\uA8FB\uA900-\uA909'+'\uA90A-\uA925\uA92E-\uA92F\uA930-\uA946\uA952-\uA953\uA95F\uA960-\uA97C'+'\uA983\uA984-\uA9B2\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uA9C1-\uA9CD'+'\uA9CF\uA9D0-\uA9D9\uA9DE-\uA9DF\uA9E0-\uA9E4\uA9E6\uA9E7-\uA9EF'+'\uA9F0-\uA9F9\uA9FA-\uA9FE\uAA00-\uAA28\uAA2F-\uAA30\uAA33-\uAA34'+'\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA5F\uAA60-\uAA6F'+'\uAA70\uAA71-\uAA76\uAA77-\uAA79\uAA7A\uAA7B\uAA7D\uAA7E-\uAAAF\uAAB1'+'\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAADD\uAADE-\uAADF'+'\uAAE0-\uAAEA\uAAEB\uAAEE-\uAAEF\uAAF0-\uAAF1\uAAF2\uAAF3-\uAAF4\uAAF5'+'\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E'+'\uAB30-\uAB5A\uAB5B\uAB5C-\uAB5F\uAB64-\uAB65\uABC0-\uABE2\uABE3-\uABE4'+'\uABE6-\uABE7\uABE9-\uABEA\uABEB\uABEC\uABF0-\uABF9\uAC00-\uD7A3'+'\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uF8FF\uF900-\uFA6D\uFA70-\uFAD9'+'\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF6F\uFF70'+'\uFF71-\uFF9D\uFF9E-\uFF9F\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF'+'\uFFD2-\uFFD7\uFFDA-\uFFDC',R:'\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05D0-\u05EA\u05EB-\u05EF'+'\u05F0-\u05F2\u05F3-\u05F4\u05F5-\u05FF\u07C0-\u07C9\u07CA-\u07EA'+'\u07F4-\u07F5\u07FA\u07FB-\u07FF\u0800-\u0815\u081A\u0824\u0828'+'\u082E-\u082F\u0830-\u083E\u083F\u0840-\u0858\u085C-\u085D\u085E'+'\u085F-\u089F\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB37\uFB38-\uFB3C'+'\uFB3D\uFB3E\uFB3F\uFB40-\uFB41\uFB42\uFB43-\uFB44\uFB45\uFB46-\uFB4F',AL:'\u0608\u060B\u060D\u061B\u061C\u061D\u061E-\u061F\u0620-\u063F\u0640'+'\u0641-\u064A\u066D\u066E-\u066F\u0671-\u06D3\u06D4\u06D5\u06E5-\u06E6'+'\u06EE-\u06EF\u06FA-\u06FC\u06FD-\u06FE\u06FF\u0700-\u070D\u070E\u070F'+'\u0710\u0712-\u072F\u074B-\u074C\u074D-\u07A5\u07B1\u07B2-\u07BF'+'\u08A0-\u08B2\u08B3-\u08E3\uFB50-\uFBB1\uFBB2-\uFBC1\uFBC2-\uFBD2'+'\uFBD3-\uFD3D\uFD40-\uFD4F\uFD50-\uFD8F\uFD90-\uFD91\uFD92-\uFDC7'+'\uFDC8-\uFDCF\uFDF0-\uFDFB\uFDFC\uFDFE-\uFDFF\uFE70-\uFE74\uFE75'+'\uFE76-\uFEFC\uFEFD-\uFEFE'},j=new RegExp('['+i.L+i.R+i.AL+']'),k=new RegExp('['+i.R+i.AL+']');function l(s){var t=j.exec(s);return t==null?null:t[0];}function m(s){var t=l(s);if(t==null)return c('UnicodeBidiDirection').NEUTRAL;return k.exec(t)?c('UnicodeBidiDirection').RTL:c('UnicodeBidiDirection').LTR;}function n(s,t){t=t||c('UnicodeBidiDirection').NEUTRAL;if(!s.length)return t;var u=m(s);return u===c('UnicodeBidiDirection').NEUTRAL?t:u;}function o(s,t){if(!t)t=c('UnicodeBidiGlobalDirection').getDir();!c('UnicodeBidiDirection').isStrong(t)?h(0):void 0;return n(s,t);}function p(s,t){return o(s,t)===c('UnicodeBidiDirection').LTR;}function q(s,t){return o(s,t)===c('UnicodeBidiDirection').RTL;}var r={firstStrongChar:l,firstStrongCharDir:m,resolveBlockDir:n,getDirection:o,isDirectionLTR:p,isDirectionRTL:q};f.exports=r;}),null);
__d('XAsyncRequest',['AsyncRequest'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$XAsyncRequest1=new (c('AsyncRequest'))(i);}h.prototype.setMethod=function(i){'use strict';this.$XAsyncRequest1.setMethod(i);return this;};h.prototype.setData=function(i){'use strict';this.$XAsyncRequest1.setData(i);return this;};h.prototype.setHandler=function(i){'use strict';this.$XAsyncRequest1.setHandler(i);return this;};h.prototype.setErrorHandler=function(i){'use strict';this.$XAsyncRequest1.setErrorHandler(i);return this;};h.prototype.send=function(){'use strict';this.$XAsyncRequest1.send();return this;};h.prototype.abort=function(){'use strict';this.$XAsyncRequest1.abort();};f.exports=h;}),null);
__d("XConstituencyTitleEditVisibilityDialogController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/constituency_title\/edit_comment_visibility\/",{ft_id:{type:"FBID",required:true},action_type:{type:"Enum",required:true,enumType:1},source:{type:"Enum",required:true,enumType:1},comment_id:{type:"String"},__asyncDialog:{type:"Int"}});}),null);
__d("XConstituencyTitleEnableController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/constituency_title\/enable\/",{});}),null);
__d("XStickerAssetController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/asset\/",{sticker_id:{type:"Int",required:true},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}});}),null);
__d("XUFIActorChangeController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/actor\/change\/",{});}),null);
__d("XUFIAddCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/add\/comment\/",{});}),null);
__d("XUFICommentLikeController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/comment\/like\/",{});}),null);
__d("XUFICommentReactionController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/comment\/reaction\/",{reaction_type:{type:"Enum",enumType:0}});}),null);
__d("XUFIDeleteCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/delete\/comment\/",{});}),null);
__d("XUFIEditCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/edit\/comment\/",{});}),null);
__d("XUFIHideCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/hide\/comment\/",{});}),null);
__d("XUFILikeController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/like\/",{});}),null);
__d("XUFIReactionController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/reaction\/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:false},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},aftercursor:{type:"String"},tab:{type:"String"},av:{type:"Int"},_ft_:{type:"String"}});}),null);
__d("XUFITranslateCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/translate\/comment\/",{});}),null);
__d("XUFITypingIndicatorController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/typing\/{feedback_id}\/{update}\/",{feedback_id:{type:"String",required:true},parent_comment_id:{type:"String"},update:{type:"Enum",required:true,enumType:1},session_id:{type:"String"}});}),null);
__d('UFIUserActions',['errorCode','fbt','ActorURI','AsyncRequest','AsyncResponse','requireWeak','ChannelClientID','ClientIDs','ImmutableObject','LtgTranslateAllDispatcher','LtgTranslateAllStore','Nectar','NumberFormat','UFIActionTypes','UFICentralUpdates','UFIToplevelPagedCommentList','UFIToplevelStreamedCommentList','UFIComments','UFICommentLogger','UFIConfig','UFIConstants','UFIFeedbackTargets','UFIReactionTypes','UFIReactionsUtils','UFIVideoPlayerRegistry','MercuryServerDispatcher','XAsyncRequest','XConstituencyTitleEditVisibilityDialogController','XConstituencyTitleEnableController','XUFIActorChangeController','XUFIAddCommentController','XUFICommentLikeController','XUFICommentReactionController','XUFIDeleteCommentController','XUFIEditCommentController','XUFIHideCommentController','XUFILikeController','XUFIReactionController','XUFITranslateCommentController','XUFITypingIndicatorController','XStickerAssetController','collectDataAttributes','emptyFunction','ifRequired','UnicodeBidi'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j;c('requireWeak')('StickerAssetType',function(ma){j=ma;});var k={BAN:'ban',UNDO_BAN:'undo_ban'},l={changeActor:function ma(na,oa){c('UFIFeedbackTargets').getFeedbackTarget(na,function(pa){c('UFIToplevelPagedCommentList').resetCommentListsWithContext(na,{actorID:oa});c('UFIToplevelStreamedCommentList').resetAllCommentLists(na);c('UFICentralUpdates').inform('actor-changed',{actorID:oa});var qa={from_actor_id:pa.actorforpost,ft_ent_identifier:na};qa[c('ActorURI').PARAMETER_ACTOR]=oa;var ra=c('XUFIActorChangeController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ra,qa);});},changeCommentLike:function ma(na,oa,pa){var qa=c('UFIComments').getComment(na);if(qa.hasviewerliked!=oa){var ra=m(pa.target),sa=oa?1:-1,ta={commentid:na,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:oa,likecount:(qa.likecount||0)+sa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ta]});c('UFIFeedbackTargets').getFeedbackTarget(qa.ftentidentifier,function(ua){var va={};va[c('ActorURI').PARAMETER_ACTOR]=ua.actorforpost;var wa=c('XUFICommentLikeController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(wa,babelHelpers['extends']({comment_id:na,legacy_id:qa.legacyid,like_action:oa,ft_ent_identifier:qa.ftentidentifier,source:pa.source,client_id:c('ClientIDs').getNewClientID(),session_id:c('ChannelClientID').getID()},ra,va));});}},changeCommentReaction:function ma(na,oa,pa){var qa=c('UFIComments').getComment(na);if(qa.viewerreaction!=oa)c('UFIFeedbackTargets').getFeedbackTarget(qa.ftentidentifier,function(ra){var sa=m(pa.target),ta=oa===c('UFIReactionTypes').LIKE,ua=[la(qa,oa,na,ra.supportedreactions,ra.actorforpost)];if(ra.hasviewerliked!==ta){var va=ta?1:-1;ua.push({commentid:na,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:ta,likecount:(qa.likecount||0)+va});}c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:ua});var wa={};wa[c('ActorURI').PARAMETER_ACTOR]=ra.actorforpost;c('MercuryServerDispatcher').trySend(c('XUFICommentReactionController').getURIBuilder().getURI(),babelHelpers['extends']({comment_id:na,legacy_id:qa.legacyid,reaction_type:oa,ft_ent_identifier:qa.ftentidentifier,source:pa.source,client_id:c('ClientIDs').getNewClientID(),session_id:c('ChannelClientID').getID()},sa,wa));});},_getAttachment:function ma(na){if(!na||!na.fbid)return na;var oa=void 0;c('ifRequired')('StickerImages',function(ra){return oa=ra;},c('emptyFunction'));var pa=oa?oa.getSticker(na.fbid):null;if(!pa)return na;var qa=c('XStickerAssetController').getURIBuilder().setInt('sticker_id',na.fbid);qa=qa.setEnum('image_type',j&&j.IMAGE).getURI().toString();return {type:'sticker',metadata:{frameCount:pa.frameCount,framesPerCol:pa.framesPerCol,framesPerRow:pa.framesPerRow,height:pa.height,source_uri:qa,sprite_uri:pa.spriteURI,source_uri_2x:qa,sprite_uri_2x:pa.spriteURI2x||pa.spriteURI,width:pa.width}};},_getLocalComment:function ma(na,oa,pa,qa,ra,sa){var ta=c('ClientIDs').getNewClientID(),ua=c('UnicodeBidi').isDirectionLTR(pa)?'ltr':'rtl',va=this._getAttachment(ra.attachedsticker);return {ftentidentifier:oa,body:{text:pa,dir:ua},author:na.actorforpost,id:ta,islocal:true,ufiinstanceid:ra.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:ra.replyid,replycommentparentid:ra.replycommentparentid,attachment:va,photo_comment:ra.attachedphoto,video_comment:ra.attachedvideo,timestamp:{time:Math.floor(Date.now()/1000),text:i._("a few seconds ago")},photoTextTagID:ra.photoTextTagID,isPhotoTag:ra.isPhotoTag,photoTagX:ra.photoTagX,photoTagY:ra.photoTagY,videoTimeOffset:sa,postedLiveState:ra.islivestreaming?c('UFIConstants').UFICommentPostedLiveState.LIVE:c('UFIConstants').UFICommentPostedLiveState.ON_DEMAND};},addComment:function ma(na,oa,pa,qa){c('UFIFeedbackTargets').getFeedbackTarget(na,function(ra){var sa=this.createComment(na,oa,pa,qa);if(!sa)return;var ta={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:ra.actorforpost,hasviewersubscribed:true,entidentifier:ra.entidentifier},ua={actiontype:c('UFIConstants').UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:ra.targetfbid};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[sa],actions:[ta,ua]});}.bind(this));},createComment:function ma(na,oa,pa,qa){var ra=c('UFIFeedbackTargets').getFeedbackTargetIfExists(na);if(!ra.actorforpost)return null;var sa=null;if(qa.fluentContentToken&&(qa.isLiveVOD||qa.islivestreaming))sa=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(qa.target,qa.fluentContentToken);var ta=this._getLocalComment(ra,na,oa,pa,qa,sa);this._sendCommentToServer(na,ra.actorforpost,oa,pa,qa,ta.id,sa);return ta;},_sendCommentToServer:function ma(na,oa,pa,qa,ra,sa,ta){var ua=null;if(ra.reply_fbid){ua=ra.reply_fbid;}else if(ra.replyid)ua=c('UFIComments').getComment(ra.replyid).fbid;var va;if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentPost(sa,ra.timestamp,{has_photo:!!ra.attachedphoto,has_video:!!ra.attachedvideo,has_sticker:!!ra.attachedsticker,is_reply:!!ra.replyid});var wa={};wa[c('ActorURI').PARAMETER_ACTOR]=oa;var xa=c('XUFIAddCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(xa,babelHelpers['extends']({ft_ent_identifier:na,comment_text:qa,source:ra.source,client_id:sa,session_id:c('ChannelClientID').getID(),reply_fbid:ua,parent_comment_id:ra.parent_comment_id||ra.replyid,reply_comment_parent_id:ra.replycommentparentid,rootid:ra.rootid,clp:va,attached_sticker_fbid:ra.attachedsticker?ra.attachedsticker.fbid:0,attached_photo_fbid:ra.attachedphoto?ra.attachedphoto.fbid:0,attached_video_fbid:ra.attachedvideo?ra.attachedvideo.fbid:0,external_image_url:ra.externalimageurl,feedback_referrer:ra.feedbackReferrer,feed_context:ra.feedcontext,video_time_offset:ta,is_live_streaming:ra.islivestreaming,is_markdown:ra.isMarkdown},m(ra.target),wa,{photo_text_tag_id:ra.photoTextTagID,is_private:ra.isPrivate,is_photo_tag:ra.isPhotoTag,photo_fbid:ra.photoFBID,photo_tag_x:ra.photoTagX,photo_tag_y:ra.photoTagY}));},_hasCommentTextChanged:function ma(na,oa){return na.body&&na.body.text!=oa;},_hasCommentPhotoChanged:function ma(na,oa){return (na||oa)&&!(na&&oa)||na&&oa&&na.fbid!=oa.fbid;},_hasCommentVideoChanged:function ma(na,oa){return (na||oa)&&!(na&&oa)||na&&oa&&na.fbid!=oa.fbid;},_hasCommentStickerChanged:function ma(na,oa){return (na||oa)&&!(na&&oa)||na&&na.type=="sticker"&&oa&&na.fbid!=oa.fbid;},editComment:function ma(na,oa,pa,qa){var ra=m(qa.target),sa=c('UFIComments').getComment(na),ta=this._hasCommentTextChanged(sa,oa)||this._hasCommentPhotoChanged(sa.photo_comment,qa.attachedPhoto)||this._hasCommentStickerChanged(sa.attachment,qa.attachedSticker)||this._hasCommentVideoChanged(sa.video_comment,qa.attachedVideo);sa=c('ImmutableObject').set(sa,{status:c('UFIConstants').UFIStatus.PENDING_EDIT,body:{text:oa},editnux:null,attachment:qa.attachedSticker,photo_comment:qa.attachedPhoto,video_comment:qa.attachedVideo});if(ta)sa=c('ImmutableObject').set(sa,{originalTimestamp:sa.timestamp.time,timestamp:{time:Math.floor(Date.now()/1000),text:i._("a few seconds ago")}});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[sa]});c('UFIFeedbackTargets').getFeedbackTarget(sa.ftentidentifier,function(ua){var va={};va[c('ActorURI').PARAMETER_ACTOR]=ua.actorforpost;var wa=c('XUFIEditCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(wa,babelHelpers['extends']({ft_ent_identifier:sa.ftentidentifier,comment_text:pa,source:qa.source,comment_id:sa.id,parent_comment_id:sa.parentcommentid,attached_sticker_fbid:qa.attachedSticker?qa.attachedSticker.fbid:0,attached_photo_fbid:qa.attachedPhoto?qa.attachedPhoto.fbid:0,attached_video_fbid:qa.attachedVideo?qa.attachedVideo.fbid:0},ra,va));});},translateComment:function ma(na,oa,pa){c('LtgTranslateAllStore').removeTranslatableCommentForEntID(na);var qa=c('XUFITranslateCommentController').getURIBuilder().getURI();if(pa){new (c('XAsyncRequest'))(qa).setData({ft_ent_identifier:na.ftentidentifier,comment_ids:[na.id],source:oa.source,translate_all:false}).setHandler(pa).setErrorHandler(pa).send();}else c('MercuryServerDispatcher').trySend(qa,{ft_ent_identifier:na.ftentidentifier,comment_ids:[na.id],source:oa.source,translate_all:false});},translateCommentArray:function ma(na,oa){if(na&&na.length>0){var pa=c('XUFITranslateCommentController').getURIBuilder().getURI();new (c('XAsyncRequest'))(pa).setData({ft_ent_identifier:oa,comment_ids:na,translate_all:true}).setHandler(function(qa){c('LtgTranslateAllDispatcher').dispatch({type:c('UFIActionTypes').TRANSLATION.TRANSLATE_ALL_COMPLETE,response:qa,id:oa});}).setErrorHandler(function(qa){c('LtgTranslateAllDispatcher').dispatch({type:c('UFIActionTypes').TRANSLATION.TRANSLATE_ALL_COMPLETE,response:qa,id:oa});}).send();}},setHideAsSpam:function ma(na,oa,pa){var qa=m(pa.target),ra=c('UFIComments').getComment(na),sa={commentid:na,actiontype:c('UFIConstants').UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:oa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[sa]});c('UFIFeedbackTargets').getFeedbackTarget(ra.ftentidentifier,function(ta){var ua={};ua[c('ActorURI').PARAMETER_ACTOR]=ta.actorforpost;var va=c('XUFIHideCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(va,babelHelpers['extends']({comment_id:na,spam_action:oa,ft_ent_identifier:ra.ftentidentifier,source:pa.source},qa,ua));});},removeComment:function ma(na,oa){var pa=m(oa.target),qa=c('UFIComments').getComment(na),ra={actiontype:c('UFIConstants').UFIActionType.DELETE_COMMENT,commentid:na,islocal:true,oneclick:oa.oneclick};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ra]});c('UFIFeedbackTargets').getFeedbackTarget(qa.ftentidentifier,function(sa){var ta={};ta[c('ActorURI').PARAMETER_ACTOR]=sa.actorforpost;var ua=c('XUFIDeleteCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ua,babelHelpers['extends']({comment_id:qa.id,comment_legacyid:qa.legacyid,ft_ent_identifier:qa.ftentidentifier,one_click:oa.oneclick,source:oa.source,client_id:c('ClientIDs').getNewClientID()},pa,ta));});},banUser:function ma(na,oa,pa,qa){var ra=pa?k.BAN:k.UNDO_BAN;c('MercuryServerDispatcher').trySend('/ajax/ufi/ban_user.php',{page_id:oa,commenter_id:na.author,action:ra,comment_id:na.id,client_side:true});},changeReaction:function ma(na,oa,pa){c('UFIFeedbackTargets').getFeedbackTarget(na,function(qa){var ra=[ka(qa,oa)],sa=parseInt(oa,10)!==0;if(qa.hasviewerliked!==sa){var ta=sa?1:-1;ra.push({actiontype:c('UFIConstants').UFIActionType.LIKE_ACTION,actorid:qa.actorforpost,hasviewerliked:sa,likecount:(qa.likecount||0)+ta,entidentifier:na,likesentences:{current:qa.likesentences.alternate,alternate:qa.likesentences.current}});}c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:ra});var ua=m(pa.target),va={};va[c('ActorURI').PARAMETER_ACTOR]=qa.actorforpost;var wa=babelHelpers['extends']({client_id:c('ClientIDs').getNewClientID(),ft_ent_identifier:na,reaction_type:oa,root_id:pa.rootid,session_id:c('ChannelClientID').getID(),source:pa.source,feedback_referrer:pa.feedbackReferrer},va,ua);if(pa.fluentContentToken)if(pa.isLiveVOD){wa.on_demand_content_time_offset=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(pa.target,pa.fluentContentToken);}else if(pa.islivestreaming)wa.live_content_time_offset=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(pa.target,pa.fluentContentToken);c('MercuryServerDispatcher').trySend(c('XUFIReactionController').getURIBuilder().getURI(),wa);});},changeSubscribe:function ma(na,oa,pa){c('UFIFeedbackTargets').getFeedbackTarget(na,function(qa){var ra=m(pa.target);if(qa.hasviewersubscribed!==oa){var sa={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:qa.actorforpost,hasviewersubscribed:oa,entidentifier:na};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[sa]});var ta={};ta[c('ActorURI').PARAMETER_ACTOR]=qa.actorforpost;c('MercuryServerDispatcher').trySend('/ajax/ufi/subscribe.php',babelHelpers['extends']({subscribe_action:oa,ft_ent_identifier:na,source:pa.source,client_id:c('ClientIDs').getNewClientID(),rootid:pa.rootid,comment_expand_mode:pa.commentexpandmode},ra,ta));}});},fetchSpamComments:function ma(na,oa,pa,qa){c('MercuryServerDispatcher').trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:na,viewas:qa,comment_ids:oa,parent_comment_id:pa,source:null});},hideConstituentTitle:function ma(na){var oa=c('XConstituencyTitleEnableController').getURIBuilder().getURI();new (c('AsyncRequest'))(oa).setMethod('POST').setData({ft_id:na.ftentidentifier,enable:false,source:'comment_edit_menu',comment_id:na.id}).send();},showConstituentTitle:function ma(na){var oa=c('XConstituencyTitleEditVisibilityDialogController').getURIBuilder().setFBID('ft_id',na.ftentidentifier).setEnum('action_type','comment_show_constituent_title').setEnum('source','comment_edit_menu').setString('comment_id',na.id).getURI();new (c('AsyncRequest'))(oa).send();},removePreview:function ma(na,oa){var pa=m(oa.target),qa={commentid:na.id,actiontype:c('UFIConstants').UFIActionType.REMOVE_PREVIEW};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[qa]});c('MercuryServerDispatcher').trySend('/ajax/ufi/remove_preview.php',babelHelpers['extends']({comment_id:na.id,ft_ent_identifier:na.ftentidentifier,source:oa.source},pa));},typingChange:function ma(na,oa){new (c('AsyncRequest'))(c('XUFITypingIndicatorController').getURIBuilder().setString('feedback_id',na).setEnum('update',oa?'start':'stop').getURI()).send();}};function m(ma){if(!ma)return {ft:{}};var na={ft:c('collectDataAttributes')(ma,['ft']).ft};c('Nectar').addModuleData(na,ma);return na;}function n(ma){c('AsyncResponse').defaultErrorHandler(ma);}function o(ma){var na=ma.request.data;c('AsyncResponse').defaultErrorHandler(ma);var oa=na.client_id||na.comment_id,pa=c('UFIComments').getComment(oa),qa=pa.status===c('UFIConstants').UFIStatus.PENDING_EDIT?c('UFIConstants').UFIStatus.FAILED_EDIT:c('UFIConstants').UFIStatus.FAILED_ADD;pa=c('ImmutableObject').setDeep(pa,{status:qa,allowRetry:p(ma),body:{mentionstext:na.comment_text,mentionsphoto:pa.photo_comment,mentionsvideo:pa.video_comment}});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[pa]});}function p(ma){var na=ma.getError();if(ma.isBlockedAction())return false;if(ma.silentError)return true;if(na===1357012||na===1357006)return false;return true;}function q(ma){var na=ma.request.data,oa=na.comment_id,pa=c('UFIComments').getComment(oa);pa=c('ImmutableObject').set(pa,{status:pa.priorstatus||null,priorstatus:undefined});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[pa]});}function r(ma){var na=ma.request.data,oa=na.comment_id,pa=c('UFIComments').getComment(oa);if(na.like_action===pa.hasviewerliked){var qa=pa.hasviewerliked?-1:1,ra={commentid:oa,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:!pa.hasviewerliked,likecount:(pa.likecount||0)+qa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ra]});}c('AsyncResponse').defaultErrorHandler(ma);}function s(ma){c('AsyncResponse').defaultErrorHandler(ma);}function t(ma){var na=ma.request.data,oa=na.ft_ent_identifier;c('UFIFeedbackTargets').getFeedbackTarget(oa,function(pa){if(pa.hasviewerliked===na.like_action){var qa=pa.hasviewerliked?-1:1,ra={actiontype:c('UFIConstants').UFIActionType.LIKE_ACTION,actorid:pa.actorforpost,hasviewerliked:!pa.hasviewerliked,likecount:(pa.likecount||0)+qa,entidentifier:oa,likesentences:{current:pa.likesentences.alternate,alternate:pa.likesentences.current}};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ra]});}});c('AsyncResponse').defaultErrorHandler(ma);}function u(ma){var na=ma.request.data,oa=na.ft_ent_identifier;c('UFIFeedbackTargets').getFeedbackTarget(oa,function(pa){if(pa.hasviewersubscribed===na.subscribe_action){var qa={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:pa.actorforpost,hasviewersubscribed:!pa.hasviewersubscribed,entidentifier:oa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[qa]});}});c('AsyncResponse').defaultErrorHandler(ma);}var v={'/ajax/ufi/ban_user.php':{mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:n},'/ajax/ufi/subscribe.php':{mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:u,batch_if:ia,batch_function:ja},'/ajax/ufi/id_comment_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE},'/ajax/ufi/remove_preview.php':{mode:c('MercuryServerDispatcher').IMMEDIATE},'/profile/broadcast_request/async/add_composer_token/':{mode:c('MercuryServerDispatcher').IMMEDIATE}},w=c('XUFIAddCommentController').getURIBuilder().getURI();v[w]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:o};var x=c('XUFIDeleteCommentController').getURIBuilder().getURI();v[x]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:q};var y=c('XUFICommentLikeController').getURIBuilder().getURI();v[y]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:r,batch_if:ga,batch_function:ja};var z=c('XUFICommentReactionController').getURIBuilder().getURI();v[z]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:s,batch_if:ga,batch_function:ja};var aa=c('XUFIHideCommentController').getURIBuilder().getURI();v[aa]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:q};var ba=c('XUFILikeController').getURIBuilder().getURI();v[ba]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:t,batch_if:ha,batch_function:ja};var ca=c('XUFIEditCommentController').getURIBuilder().getURI();v[ca]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:o};var da=c('XUFITranslateCommentController').getURIBuilder().getURI();v[da]={mode:c('MercuryServerDispatcher').IMMEDIATE};var ea=c('XUFIActorChangeController').getURIBuilder().getURI();v[ea]={mode:c('MercuryServerDispatcher').IMMEDIATE};var fa=c('XUFIReactionController').getURIBuilder().getURI();v[fa]={mode:c('MercuryServerDispatcher').IMMEDIATE};c('MercuryServerDispatcher').registerEndpoints(v);function ga(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier&&ma.comment_id==na.comment_id;}function ha(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier;}function ia(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier;}function ja(ma,na){return na;}function ka(ma,na){return Object.assign({actiontype:c('UFIConstants').UFIActionType.REACTION,actorid:ma.actorforpost,entidentifier:ma.entidentifier},c('UFIReactionsUtils').getReactionData(ma,na,ma.actorforpost,c('NumberFormat').formatIntegerWithDelimiter,c('UFIConfig').numberDelimiter));}function la(ma,na,oa,pa,qa){var ra={};for(var sa=0;sa<pa.length;sa++){var ta=pa[sa],ua=ma.reactioncountmap[ta];ra[ta]={'default':ua?ua['default']:0,reduced:ua?ua.reduced:'0'};}var va=c('UFIReactionsUtils').getReactionData({viewerreaction:ma.viewerreaction,reactioncount:ma.reactioncount,reactioncountreduced:ma.reactioncountreduced,reactioncountmap:ra,reactorids:ma.viewerreaction?[qa]:[]},na,qa);return {actiontype:c('UFIConstants').UFIActionType.COMMENT_REACTION,commentid:oa,hasviewerliked:!!na,likecount:va.reactioncountmap[1]['default'],reactioncount:va.reactioncount,reactioncountmap:va.reactioncountmap,reactioncountreduced:va.reactioncountreduced,viewerreaction:na};}f.exports=l;}),null);
__d('LtgTranslateAllStore',['FluxReduceStore','LtgTranslateAllDispatcher','Map','TranslateAllState','UFIActionTypes','UFIUserActions','Set'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('LtgTranslateAllDispatcher'));this.$LtgTranslateAllStore1=new (c('Map'))();this.$LtgTranslateAllStore2=new (c('Map'))();this.$LtgTranslateAllStore3=new (c('Map'))();}j.prototype.getInitialState=function(){return {};};j.prototype.reduce=function(k,l){switch(l.type){case c('UFIActionTypes').COMMENT.TRANSLATE_ARRAY:this.$LtgTranslateAllStore4(l);return this.getTranslateAllStateForID(l.id);case c('UFIActionTypes').TRANSLATION.TRANSLATE_ALL_COMPLETE:this.$LtgTranslateAllStore5(l);return this.getTranslateAllStateForID(l.id);case c('UFIActionTypes').TRANSLATION.HAS_TRANSLATABLE_CONTENT:this.$LtgTranslateAllStore6(l);return this.getTranslateAllStateForID(l.id);case c('UFIActionTypes').TRANSLATION.UPDATE_TRANSLATABLE_COMMENTS:this.$LtgTranslateAllStore7(l);return this.getTranslateAllStateForID(l.id);default:break;}return k;};j.prototype.getTranslateAllStateForID=function(k){var l=this.$LtgTranslateAllStore1.get(k);return l?l:{translateAll:c('TranslateAllState').INITIAL};};j.prototype.getTranslateAllEnabledForID=function(k){var l=this.getTranslateAllStateForID(k);return l.translateAll===c('TranslateAllState').LOADING||l.translateAll===c('TranslateAllState').COMPLETE;};j.prototype.getHasTranslatableContent=function(k){return this.$LtgTranslateAllStore2.get(k)!==null;};j.prototype.getTranslatableCommentsForFeedbackTarget=function(k){var l=[],m=this.$LtgTranslateAllStore3.get(k);if(m)m.forEach(function(n){l[l.length]=n;});return l;};j.prototype.removeTranslatableCommentForEntID=function(k){var l=this.$LtgTranslateAllStore3.get(k.ftentidentifier);if(l){l['delete'](k.id);this.$LtgTranslateAllStore3=this.$LtgTranslateAllStore3.set(k.ftentidentifier,l);}};j.prototype.$LtgTranslateAllStore4=function(k){this.$LtgTranslateAllStore1=this.$LtgTranslateAllStore1.set(k.id,{translateAll:c('TranslateAllState').LOADING});c('UFIUserActions').translateCommentArray(k.commentArray,k.id);};j.prototype.$LtgTranslateAllStore5=function(k){this.$LtgTranslateAllStore1=this.$LtgTranslateAllStore1.set(k.id,{translateAll:c('TranslateAllState').COMPLETE});};j.prototype.$LtgTranslateAllStore7=function(k){var l=this.$LtgTranslateAllStore3.get(k.id);if(!l)l=new (c('Set'))();k.comment_ids.forEach(function(m){if(l)l.add(m);});this.$LtgTranslateAllStore3=this.$LtgTranslateAllStore3.set(k.id,l);this.__emitChange();};j.prototype.$LtgTranslateAllStore6=function(k){this.$LtgTranslateAllStore2=this.$LtgTranslateAllStore2.set(k.id,true);};f.exports=new j(c('LtgTranslateAllDispatcher'));}),null);
__d('CenteredContainer.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=(this.props.vertical?"_3bwv":'')+(this.props.horizontal?' '+"_3bww":''),n=c('React').Children.map(this.props.children,function(p){return (c('React').createElement('div',{className:"_3bwx"},p));}),o=c('joinClasses')(this.props.className,this.props.fullHeight?"_5bpf":'');return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:o}),c('React').createElement('div',{className:m},c('React').createElement('div',{className:"_3bwy"},n))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={fullHeight:k.bool,vertical:k.bool,horizontal:k.bool};l.defaultProps={fullHeight:false,vertical:false,horizontal:true};f.exports=l;}),null);
__d('Newline.react',['React'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return c('React').createElement('br',this.props);};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('Text.react',['React'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return (c('React').createElement('span',this.props,this.props.children));};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('UnicodeUtils',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=55296,j=56319,k=56320,l=57343,m=/[\uD800-\uDFFF]/;function n(w){return i<=w&&w<=l;}function o(w,x){!(0<=x&&x<w.length)?h(0):void 0;if(x+1===w.length)return false;var y=w.charCodeAt(x),z=w.charCodeAt(x+1);return (i<=y&&y<=j&&k<=z&&z<=l);}function p(w){return m.test(w);}function q(w,x){return 1+n(w.charCodeAt(x));}function r(w){if(!p(w))return w.length;var x=0;for(var y=0;y<w.length;y+=q(w,y))x++;return x;}function s(w,x,y){x=x||0;y=y===undefined?Infinity:y||0;if(!p(w))return w.substr(x,y);var z=w.length;if(z<=0||x>z||y<=0)return '';var aa=0;if(x>0){for(;x>0&&aa<z;x--)aa+=q(w,aa);if(aa>=z)return '';}else if(x<0){for(aa=z;x<0&&0<aa;x++)aa-=q(w,aa-1);if(aa<0)aa=0;}var ba=z;if(y<z)for(ba=aa;y>0&&ba<z;y--)ba+=q(w,ba);return w.substring(aa,ba);}function t(w,x,y){x=x||0;y=y===undefined?Infinity:y||0;if(x<0)x=0;if(y<0)y=0;var z=Math.abs(y-x);x=x<y?x:y;return s(w,x,z);}function u(w){var x=[];for(var y=0;y<w.length;y+=q(w,y))x.push(w.codePointAt(y));return x;}var v={getCodePoints:u,getUTF16Length:q,hasSurrogateUnit:p,isCodeUnitInSurrogateRange:n,isSurrogatePair:o,strlen:r,substring:t,substr:s};f.exports=v;}),null);
__d('BaseTextWithEntities.react',['Newline.react','React','ReactFragment','Text.react','UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;function k(o,p){return o.offset-p.offset;}var l=/(\r\n|[\r\n])/,m=j.shape({length:j.number.isRequired,offset:j.number.isRequired});h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return o=(p=i.constructor).call.apply(p,[this].concat(r)),this.$BaseTextWithEntities1=function(){return [].concat(this.props.ranges,this.props.aggregatedRanges,this.props.imageRanges,this.props.metaRanges).filter(function(t){return t!=null;}).sort(k);}.bind(this),this.$BaseTextWithEntities2=function(t){var u=t.split(l),v={};for(var w=0;w<u.length;w++){var x=u[w];if(x){var y='text'+w;if(w%2===1){v[y]=c('React').createElement(c('Newline.react'),null);}else v[y]=this.props.textRenderer(u[w]);}}return c('ReactFragment').create(v);}.bind(this),o;}n.prototype.render=function(){var o=0,p=this.props.text,q=this.$BaseTextWithEntities1(),r={},s=q.length;for(var t=0,u=s;t<u;t++){var v=q[t];if(v.offset<o)continue;if(v.offset>o)r['text'+t]=this.$BaseTextWithEntities2(c('UnicodeUtils').substring(p,o,v.offset));var w=c('UnicodeUtils').substr(p,v.offset,v.length);r['range'+t]=this.props.rangeRenderer(w,v);o=v.offset+v.length;}if(p.length>o)r.end=this.$BaseTextWithEntities2(c('UnicodeUtils').substr(p,o));return (c('React').createElement(c('Text.react'),{className:this.props.className,style:this.props.style},c('ReactFragment').create(r)));};n.propTypes={aggregatedRanges:j.array,imageRanges:j.array,metaRanges:j.array,rangeRenderer:j.func.isRequired,ranges:j.arrayOf(m),text:j.string.isRequired,textRenderer:j.func.isRequired};f.exports=n;}),null);
__d('EmojiImageURL',['invariant','EmojiStaticConfig','EmojiConfig'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k,l){k=b.unescape(encodeURIComponent(k));for(var m=0;m<k.length;m++){l=(l<<5)-l+k.charCodeAt(m);l&=4294967295;}return (l&255).toString(16);}function j(k,l,m){!(l in c('EmojiStaticConfig').supportedSizes)?h(0):void 0;var n=c('EmojiConfig').pixelRatio+'/'+l+'/'+k+c('EmojiStaticConfig').fileExt,o=i(n,c('EmojiStaticConfig').checksumBase);return c('EmojiConfig').schemaAuth+'/'+m+o+'/'+n;}f.exports={getUnicodeURL:function k(l){return j(l,16,c('EmojiStaticConfig').types.UNICODE);},getMessengerURL:function k(l,m){return j(l,m,c('EmojiStaticConfig').types.MESSENGER);},getFBEmojiURL:function k(l){return j(l,16,c('EmojiStaticConfig').types.FBEMOJI);}};}),null);
__d("EmojiRendererData",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.isEmoji=function(i){"use strict";return (i===35||i===42||i>=48&&i<=57||i===169||i===174||i===8252||i===8265||i===8482||i===8505||i>=8596&&i<=8601||i>=8617&&i<=8618||i>=8986&&i<=8987||i===9000||i===9167||i>=9193&&i<=9203||i>=9208&&i<=9210||i===9410||i>=9642&&i<=9643||i===9654||i===9664||i>=9723&&i<=9726||i>=9728&&i<=9732||i===9742||i===9745||i>=9748&&i<=9749||i===9752||i===9760||i>=9762&&i<=9763||i===9766||i===9770||i>=9774&&i<=9775||i>=9784&&i<=9786||i>=9800&&i<=9811||i===9824||i===9827||i>=9829&&i<=9830||i===9832||i===9851||i===9855||i>=9874&&i<=9876||i>=9878&&i<=9879||i===9881||i>=9883&&i<=9884||i>=9888&&i<=9889||i>=9898&&i<=9899||i>=9904&&i<=9905||i>=9917&&i<=9918||i>=9924&&i<=9925||i===9928||i>=9934&&i<=9935||i===9937||i>=9939&&i<=9940||i>=9961&&i<=9962||i>=9968&&i<=9973||i>=9975&&i<=9976||i===9978||i===9981||i===9986||i===9989||i>=9992&&i<=9993||i===9999||i===10002||i===10004||i===10006||i===10013||i===10017||i===10024||i>=10035&&i<=10036||i===10052||i===10055||i===10060||i===10062||i>=10067&&i<=10069||i===10071||i>=10083&&i<=10084||i>=10133&&i<=10135||i===10145||i===10160||i===10175||i>=10548&&i<=10549||i>=11013&&i<=11015||i>=11035&&i<=11036||i===11088||i===11093||i===12336||i===12349||i===12951||i===12953||i===126980||i===127183||i>=127344&&i<=127345||i>=127358&&i<=127359||i===127374||i>=127377&&i<=127386||i>=127462&&i<=127487||i>=127489&&i<=127490||i===127514||i===127535||i>=127538&&i<=127546||i>=127568&&i<=127569||i>=127744&&i<=127777||i>=127780&&i<=127876||i>=127878&&i<=127891||i>=127894&&i<=127895||i>=127897&&i<=127899||i>=127902&&i<=127938||i>=127941&&i<=127945||i>=127948&&i<=127984||i>=127987&&i<=127989||i>=127991&&i<=127994||i>=128000&&i<=128065||i>=128068&&i<=128069||i>=128081&&i<=128101||i>=128106&&i<=128109||i===128111||i>=128121&&i<=128123||i>=128125&&i<=128128||i===128132||i>=128136&&i<=128169||i>=128171&&i<=128253||i>=128255&&i<=128317||i>=128329&&i<=128334||i>=128336&&i<=128359||i>=128367&&i<=128368||i>=128371&&i<=128372||i>=128374&&i<=128377||i===128391||i>=128394&&i<=128397||i>=128420&&i<=128421||i===128424||i>=128433&&i<=128434||i===128444||i>=128450&&i<=128452||i>=128465&&i<=128467||i>=128476&&i<=128478||i===128481||i===128483||i===128488||i===128495||i===128499||i>=128506&&i<=128580||i>=128584&&i<=128586||i>=128640&&i<=128674||i>=128676&&i<=128691||i>=128695&&i<=128703||i>=128705&&i<=128709||i>=128715&&i<=128722||i>=128736&&i<=128741||i===128745||i>=128747&&i<=128748||i===128752||i>=128755&&i<=128758||i>=129296&&i<=129303||i>=129312&&i<=129317||i===129319||i===129338||i>=129344&&i<=129349||i>=129351&&i<=129355||i>=129360&&i<=129374||i>=129408&&i<=129425||i===129472);};h.isEmojiModifier=function(i){"use strict";return (i>=127995&&i<=127999);};h.isEmojiModifierBase=function(i){"use strict";return (i===9757||i===9977||i>=9994&&i<=9997||i===127877||i>=127939&&i<=127940||i>=127946&&i<=127947||i>=128066&&i<=128067||i>=128070&&i<=128080||i>=128102&&i<=128105||i===128110||i>=128112&&i<=128120||i===128124||i>=128129&&i<=128131||i>=128133&&i<=128135||i===128170||i===128373||i===128378||i===128400||i>=128405&&i<=128406||i>=128581&&i<=128583||i>=128587&&i<=128591||i===128675||i>=128692&&i<=128694||i===128704||i>=129304&&i<=129310||i===129318||i===129328||i>=129331&&i<=129337||i>=129340&&i<=129342);};h.isEmojiVariationSelector=function(i){"use strict";return (i>=65038&&i<=65039);};h.isNonSpacingCombiningMark=function(i){"use strict";return (i===8419||i===8416);};h.isRegionalIndicator=function(i){"use strict";return (i>=127462&&i<=127487);};h.isText=function(i){"use strict";return (i===35||i===42||i>=48&&i<=57);};h.isZWJ=function(i){"use strict";return (i===8205);};function h(){"use strict";}f.exports=h;}),null);
__d('EmojiRenderer',['EmojiRendererData','UnicodeUtils'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=0,i=1,j=2,k=3,l=4,m=5,n=6,o=7,p=8,q=9,r=10;function s(u){var v=u[0];if(v===undefined)return false;if(c('EmojiRendererData').isText(v.charCodeAt(0)))if(u.length<2){return false;}else if(u.length==2){return c('EmojiRendererData').isNonSpacingCombiningMark(u[1].charCodeAt(0));}else{var w=1;if(c('EmojiRendererData').isEmojiVariationSelector(u[w].charCodeAt(0)))w++;while(w<u.length){if(!c('EmojiRendererData').isNonSpacingCombiningMark(u[w].charCodeAt(0)))return false;w++;}return true;}return true;}var t={parse:function u(v,w){var x=null,y=[],z=h,aa=0,ba=v.length;while(aa<ba){var ca=v.codePointAt(aa),da=c('UnicodeUtils').getUTF16Length(v,aa),ea=v.substr(aa,da);switch(z){case p:if(c('EmojiRendererData').isRegionalIndicator(ca)){z=k;}else z=h;break;case l:if(c('EmojiRendererData').isZWJ(ca)){z=o;}else if(c('EmojiRendererData').isEmojiModifier(ca)){z=m;}else if(c('EmojiRendererData').isEmojiVariationSelector(ca)){z=i;}else z=h;break;case i:if(c('EmojiRendererData').isEmojiModifier(ca)){z=m;}else z=h;break;case j:if(c('EmojiRendererData').isZWJ(ca)){z=o;}else if(c('EmojiRendererData').isEmojiVariationSelector(ca)){z=n;}else if(c('EmojiRendererData').isNonSpacingCombiningMark(ca)){z=q;}else z=h;break;case n:case q:if(c('EmojiRendererData').isNonSpacingCombiningMark(ca))break;case k:case m:if(c('EmojiRendererData').isZWJ(ca)){z=o;}else z=h;break;case o:if(c('EmojiRendererData').isRegionalIndicator(ca)){z=p;}else if(c('EmojiRendererData').isEmojiModifierBase(ca)){z=l;}else if(c('EmojiRendererData').isEmoji(ca)){z=j;}else z=h;break;case r:if(c('EmojiRendererData').isNonSpacingCombiningMark(ca)){z=q;}else if(!(c('EmojiRendererData').isEmojiVariationSelector(ca)))z=h;break;default:z=h;break;}if(z===h){if(c('EmojiRendererData').isRegionalIndicator(ca)){z=p;}else if(c('EmojiRendererData').isEmojiModifierBase(ca)){z=l;}else if(c('EmojiRendererData').isText(ca)){z=r;}else if(c('EmojiRendererData').isEmoji(ca))z=j;if(z!==h){if(x!==null&&s(x.emoji))y.push(x);if(w!==null&&w===y.length){x=null;break;}x={emoji:[ea],length:da,offset:aa};}}else if(x!==null){x.emoji.push(ea);x.length+=da;}aa+=da;}if(x!==null&&s(x.emoji))y.push(x);return y;},render:function u(v,w,x){var y=t.parse(v),z=[],aa=0;y.forEach(function(ba){var ca=ba.offset;if(ca>aa)z.push(v.substr(aa,ca-aa));z.push(w(ba.emoji));aa=ca+ba.length;});z.push(v.substr(aa,v.length-aa));return z;},containsEmoji:function u(v){return t.parse(v,1).length===1;},countEmoji:function u(v){return t.parse(v).length;}};f.exports=t;}),null);
__d("Utf16",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={decode:function i(j){switch(j.length){case 1:return j.charCodeAt(0);case 2:return 65536|(j.charCodeAt(0)-55296)*1024|j.charCodeAt(1)-56320;}},encode:function i(j){if(j<65536){return String.fromCharCode(j);}else return String.fromCharCode(55296+(j-65536>>10))+String.fromCharCode(56320+j%1024);}};f.exports=h;}),null);
__d('createEmojiElement',['cx','JSXDOM'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){return (c('JSXDOM').i({className:"_3kkw",style:{backgroundImage:'url('+k+')'}},c('JSXDOM').span({className:'accessible_elem'},j)));}f.exports=i;}),null);
__d('DOMEmoji',['cx','EmojiConfig','EmojiImageURL','EmojiRenderer','JSXDOM','SupportedEmoji','Utf16','createEmojiElement','flattenArray','isElementNode'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={MAX_ITEMS:40,transform:function j(k,l){return c('flattenArray')(k.map(function(m){if(!c('isElementNode')(m)){return c('EmojiRenderer').render(m,function(n){var o=n.map(function(p){return c('Utf16').decode(p).toString(16);}).join('_');if(c('SupportedEmoji').emoji[o])return c('createEmojiElement')(n.join(''),c('EmojiConfig').hasFBEmoji?c('EmojiImageURL').getFBEmojiURL(o):c('EmojiImageURL').getUnicodeURL(o));return c('JSXDOM').i({className:"_4ay8"},n.join(''));},this.MAX_ITEMS);}else return m;}.bind(this)));}};f.exports=i;}),null);
__d("EmoticonsList",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={emotes:{"O:)":"angel","O:-)":"angel",":3":"colonthree","o.O":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","8-)":"glasses","B-)":"glasses","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",":v":"pacman",":V":"pacman","<(\")":"penguin",":poop:":"poop",":putnam:":"putnam",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","=)":"smile","(:":"smile","(=":"smile","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",";)":"wink",";-)":"wink"},symbols:{angel:"O:)",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",frown:":(",gasp:":o",glasses:"8-)",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",pacman:":v",penguin:"<(\")",poop:":poop:",putnam:":putnam:",robot:":|]",shark:"(^^^)",smile:":)",squint:"-_-",sunglasses:"B|",tongue:":P",unsure:":/",upset:">:o",wink:";)"},regexp:/(^|[\s\'\".])(O:\)(?!\))|O:\-\)(?!\))|:3|o\.O|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|8\-\)(?!\))|B\-\)(?!\))|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|:v|:V|<\(\"\)(?!\))|:poop:|:putnam:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|\-_\-|B\||8\-\||8\||B\-\||:P|:\-P|:\-p|:p|=P|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|;\)(?!\))|;\-\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(O:\)(?!\))|O:\-\)(?!\))|:3|o\.O|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|8\-\)(?!\))|B\-\)(?!\))|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|:v|:V|<\(\"\)(?!\))|:poop:|:putnam:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|\-_\-|B\||8\-\||8\||B\-\||:P|:\-P|:\-p|:p|=P|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|;\)(?!\))|;\-\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/};}),null);
__d('TransformTextToDOMMixin',['flattenArray','isElementNode'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=3,i={transform:function j(k,l){return c('flattenArray')(k.map(function(m){if(!c('isElementNode')(m)){var n=m,o=[],p=this.MAX_ITEMS||h;while(p--){var q=l?[n].concat(l):[n],r=this.match.apply(this,q);if(!r)break;o.push(n.substring(0,r.startIndex));o.push(r.element);n=n.substring(r.endIndex);}n&&o.push(n);return o;}return m;}.bind(this)));},params:function j(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];var n=this;return {__params:true,obj:n,params:l};}};f.exports=i;}),null);
__d('DOMEmote',['fbt','cx','CSS','EmoticonsList','JSXDOM','TransformTextToDOMMixin'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={MAX_ITEMS:40,match:function k(l){var m=c('EmoticonsList').regexp.exec(l);if(!m||!m.length)return false;var k=m[2],n=m.index+m[1].length;return {startIndex:n,endIndex:n+k.length,element:this._element(k,c('EmoticonsList').emotes[k])};},_element:function k(l,m){var n=h._("{emoticonName} emoticon",[h.param('emoticonName',m)]),o="_skr",p="_1gwo",q=c('JSXDOM').span({className:'emoticon','aria-hidden':true});c('CSS').addClass(q,'emoticon_'+m);var r=c('JSXDOM').span({className:o,'aria-hidden':true},l),s=c('JSXDOM').span({title:n,className:p},q,r);return s;}};f.exports=Object.assign(j,c('TransformTextToDOMMixin'));}),null);
__d('transformTextToDOM',['createArrayFromMixed'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=[i];j=c('createArrayFromMixed')(j);j.forEach(function(l){var m,n=l;if(l.__params){m=l.params;n=l.obj;}k=n.transform(k,m);});return k;}f.exports=h;}),null);
__d('emojiAndEmote',['DOMEmoji','DOMEmote','transformTextToDOM'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function i(j){var k=[c('DOMEmoji'),c('DOMEmote')];return c('transformTextToDOM')(j,k);};f.exports=h;}),null);
__d('Emoji',['DOMEmoji','JSXDOM','emojiAndEmote','transformTextToDOM'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={htmlEmojiAndEmote:function i(j,k){return c('JSXDOM').span(null,c('emojiAndEmote')(j)).innerHTML;},htmlEmojiAndEmoteWithoutFBID:function i(j,k){return c('JSXDOM').span(null,c('emojiAndEmote')(j,false)).innerHTML;},htmlEmoji:function i(j){return c('JSXDOM').span(null,c('transformTextToDOM')(j,c('DOMEmoji'))).innerHTML;}};f.exports=h;}),null);
__d('Emote',['DOMEmote','JSXDOM','transformTextToDOM'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={htmlEmoteWithoutFBID:function i(j,k){return c('JSXDOM').span(null,c('transformTextToDOM')(j,c('DOMEmote'))).innerHTML;},htmlEmote:function i(j,k){return (c('JSXDOM').span(null,c('transformTextToDOM')(j,[c('DOMEmote')])).innerHTML);}};f.exports=h;}),null);
__d('TextWithEmoticons.react',['Emoji','Emote','React'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';if(!this.props.renderEmoticons&&!this.props.renderEmoji)return c('React').createElement('span',null,this.props.text);var k;if(this.props.renderEmoticons&&this.props.renderEmoji){k=c('Emoji').htmlEmojiAndEmoteWithoutFBID(this.props.text);}else if(this.props.renderEmoticons){k=c('Emote').htmlEmoteWithoutFBID(this.props.text);}else k=c('Emoji').htmlEmoji(this.props.text);if(k.indexOf('<')===-1)return c('React').createElement('span',null,this.props.text);return c('React').createElement('span',{dangerouslySetInnerHTML:{__html:k}});};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('TextWithEntities.react',['BaseTextWithEntities.react','Link.react','React','TextWithEmoticons.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();function j(l){return l.replace(/<3\b|&hearts;/g,'\u2665');}h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return l=(m=i.constructor).call.apply(m,[this].concat(o)),this.$TextWithEntities1=function(q){if(this.props.renderEmoticons||this.props.renderEmoji){return (c('React').createElement(c('TextWithEmoticons.react'),{text:q,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}));}else return j(q);}.bind(this),this.$TextWithEntities2=function(q,r){if(this.props.interpolator){return this.props.interpolator(q,r);}else if(r.entity){return (c('React').createElement(c('Link.react'),{href:r.entity},q));}else return q;}.bind(this),l;}k.prototype.render=function(){return (c('React').createElement(c('BaseTextWithEntities.react'),babelHelpers['extends']({},this.props,{textRenderer:this.$TextWithEntities1,rangeRenderer:this.$TextWithEntities2,ranges:this.props.ranges,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,metaRanges:this.props.metaRanges,text:this.props.text})));};f.exports=k;}),null);
__d('MenuSeparator.react',['MenuSeparator'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){j.isReactLegacyFactory={};j.type=j;}var i=c('MenuSeparator');h(i);f.exports=i;}),null);
__d('MenuStaticItem.react',['MenuStaticItem'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){j.isReactLegacyFactory={};j.type=j;}var i=c('MenuStaticItem');h(i);f.exports=i;}),null);
__d('AbstractTextArea.react',['cx','AbstractTextField.react','React'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement(c('AbstractTextField.react'),this.props,c('React').createElement('textarea',{className:"_58an",onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,rows:this.props.rows,tabIndex:this.props.tabIndex,ref:function(m){return this.$AbstractTextArea1=m;}.bind(this)})));};l.prototype.focusInput=function(){'use strict';this.$AbstractTextArea1&&this.$AbstractTextArea1.focus();};l.prototype.blurInput=function(){'use strict';this.$AbstractTextArea1&&this.$AbstractTextArea1.blur();};l.prototype.getTextFieldDOM=function(){'use strict';return this.$AbstractTextArea1;};l.prototype.getValue=function(){'use strict';return this.$AbstractTextArea1?this.$AbstractTextArea1.value:'';};function l(){'use strict';i.apply(this,arguments);}l.propTypes=c('AbstractTextField.react').propTypes;f.exports=l;}),null);
__d('XUIDialogOkayButton.react',['cx','fbt','React','XUIDialogButton.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_2z1w"),action:this.props.action,label:i._("OK")})));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={action:l.oneOf(['confirm','cancel','button']).isRequired};f.exports=m;}),null);
__d('LayerAutoFocusReact',['focusWithinLayer'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this._layer=i;this._subscription=null;}h.prototype.enable=function(){if(this._layer.containsReactComponent)this._subscription=this._layer.subscribe('reactshow',this._focus.bind(this));};h.prototype.disable=function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};h.prototype._focus=function(){var i=this._layer.getRoot();i&&c('focusWithinLayer')(i);};f.exports=h;}),null);
__d('SimpleXUIDialog',['cx','DialogX','LayerAutoFocusReact','LayerDestroyOnHide','LayerFadeOnHide','LayerFadeOnShow','LayerHideOnBlur','LayerHideOnEscape','LayerRefocusOnHide','React','XUIDialogCancelButton.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=445,j={show:function k(l,m,n,o){var p=c('React').createElement(c('XUIDialogOkayButton.react'),{action:'cancel',use:'confirm'});return this.showEx(l,m,p,n,o);},showConfirm:function k(l,m,n,o){var p=false,q=c('React').createElement('div',null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:function s(){p=false;}}),c('React').createElement(c('XUIDialogOkayButton.react'),{action:'cancel',className:o&&o.autofocusConfirm?"autofocus":'',use:'confirm',onClick:function s(){p=true;}}));function r(){n(p);}return this.showEx(l,m,q,r,o);},showEx:function k(l,m,n,o,p){p=p||{};var q=[c('LayerDestroyOnHide'),c('LayerFadeOnShow'),c('LayerFadeOnHide'),c('LayerHideOnEscape'),c('LayerRefocusOnHide')];if(p.hideOnBlur!==false)q.push(c('LayerHideOnBlur'));if(p.useReactFocusBehavior)q.push(c('LayerAutoFocusReact'));var r={width:p.width||i,xui:true,addedBehaviors:q,causalElement:p.causalElement};if(m)m=c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:p.showCloseButton!==false},m);if(n)n=c('React').createElement(c('XUIDialogFooter.react'),{'data-testid':'simple_xui_dialog_footer'},n);var s=c('React').createElement('div',null,m,c('React').createElement(c('XUIDialogBody.react'),null,l),n),t=new (c('DialogX'))(r,s);if(o)t.subscribe('hide',o);t.show();return t;}};f.exports=j;}),null);
__d('XUIMenuStaticItem.react',['MenuStaticItem.react'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('MenuStaticItem.react');f.exports=h;}),null);
__d('XUIGrayText.react',['cx','React','XUIText.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props,n=m.shade,o=babelHelpers.objectWithoutProperties(m,['shade']),p=(n==='light'?"_50f8":'')+(n==='medium'?' '+"_c24":'')+(n==='dark'?' '+"_50f9":'');return (c('React').createElement(c('XUIText.react'),babelHelpers['extends']({},o,{className:c('joinClasses')(this.props.className,p)}),this.props.children));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={shade:k.oneOf(['light','medium','dark'])};l.defaultProps={shade:'light'};f.exports=l;}),null);
__d("MultilingualPostStrings",["fbt"],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={DELETE:h._("Delete"),EDIT:h._("Edit"),EDIT_POST:h._("Edit Post"),REMOVE:h._("Remove"),CANCEL:h._("Cancel"),WRITE_IN_ANOTHER_LANGUAGE:h._("Write in another language"),WRITE_IN_NEW_LANGUAGE:h._("Write in new language"),WRITE_POST_IN_ANOTHER_LANGUAGE:h._("Write post in another language"),POST_IN_MULTIPLE_LANGUAGES:h._("Post in multiple languages"),MULTILINGUAL_POSTS_DESCRIPTION:h._("Your post will be shown to your followers in a language that is most relevant to them. Comments and likes will be added to the same post."),LINK_TO_MULTILINGUAL_SETTINGS:h._("Turn this option off."),MULTILINGUAL_COMPOSER_NUX:h._("Reach your audience in the language they understand."),getEditPostInLanguage:function j(k){return h._("Edit Post - {language name}",[h.param("language name",k)]);},getViewingLanguage:function j(k){return h._("Viewing: {language name}",[h.param("language name",k)]);},getDefaultLanguage:function j(k){return h._("Default: {language switcher}",[h.param("language switcher",k)]);},getSelectLanguage:function j(k){return h._("Language: {language switcher}",[h.param("language switcher",k)]);},getAuthorTranslationPlaceholder:function j(k){if(!k)return this.WRITE_IN_ANOTHER_LANGUAGE;return h._("Write in {language name}...",[h.param("language name",k)]);}};f.exports=i;}),null);
__d('ReactComponentTreeDevtool',['ReactComponentTreeHook'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('ReactComponentTreeHook');}),null);
__d('ReactComponentWithPureRenderMixin',['ReactComponentTreeDevtool','ReactInstanceMap','shallowEqual','warning'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={shouldComponentUpdate:function i(j,k){if(!c('shallowEqual')(this.props,j)||!c('shallowEqual')(this.state,k))return true;return false;}};f.exports=h;}),null);
__d("XLtgLanguageDialectSetsLoaderController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/translation\/dialect_sets_loader\/",{});}),null);
__d('LtgLanguageDialectDropdown.react',['cx','fbt','LoadingIndicator.react','Map','MultilingualPostStrings','PopoverMenu.react','React','ReactComponentWithPureRenderMixin','ReactXUIMenu','Set','XAsyncRequest','XLtgLanguageDialectSetsLoaderController','MenuSeparator.react','classWithMixins','emptyFunction','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('ReactXUIMenu').Item,m=c('ReactXUIMenu').SelectableItem,n=c('ReactXUIMenu').SelectableMenu,o=' \u25BE',p='xx_XX';j=babelHelpers.inherits(q,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactComponentWithPureRenderMixin'))));k=j&&j.prototype;function q(r){k.constructor.call(this,r);this.state={selectedDialect:this.props.initialDialect,isLoaded:this.props.dialectToNamesMap!==null};}q.prototype.componentWillMount=function(){if(!this.props.dialectToNamesMap){this.loadLocalizedDialectSets();}else{this.$LtgLanguageDialectDropdown1=this.props.dialectToNamesMap;this.$LtgLanguageDialectDropdown2();}};q.prototype.loadLocalizedDialectSets=function(){var r=c('XLtgLanguageDialectSetsLoaderController').getURIBuilder().getURI();new (c('XAsyncRequest'))(r).setHandler(function(s){if(s.payload&&s.payload.dialect_map){this.$LtgLanguageDialectDropdown1=new (c('Map'))(Object.entries(s.payload.dialect_map));this.$LtgLanguageDialectDropdown2();this.setState({isLoaded:true});}}.bind(this)).setErrorHandler(function(){return this.setState({isLoaded:true});}.bind(this)).send();};q.prototype.$LtgLanguageDialectDropdown2=function(){if(this.props.dialectsToOverride)this.props.dialectsToOverride.forEach(function(r,s){this.$LtgLanguageDialectDropdown1.set(s,r);}.bind(this));};q.prototype.$LtgLanguageDialectDropdown3=function(){var r=[],s=this.props.dialectsToInclude.size>0?this.props.dialectsToInclude:new (c('Set'))(this.$LtgLanguageDialectDropdown1?this.$LtgLanguageDialectDropdown1.keys():[]);s.forEach(function(t){if(this.props.dialectsToExclude.has(t))return;var u=this.$LtgLanguageDialectDropdown1?this.$LtgLanguageDialectDropdown1.get(t):'';r.push(c('React').createElement(m,{key:t,selected:t===this.state.selectedDialect,value:t},u));}.bind(this));return r;};q.prototype.$LtgLanguageDialectDropdown4=function(){var r=[];if(this.props.onAdd)r.push(c('React').createElement(l,{key:'MLC_ADD',onclick:this.props.onAdd},c('MultilingualPostStrings').WRITE_IN_ANOTHER_LANGUAGE));if(r.length>0)r.unshift(c('React').createElement(c('MenuSeparator.react'),{key:'MLC_DIVIDER'}));return r;};q.prototype.$LtgLanguageDialectDropdown5=function(r){this.setState({selectedDialect:r});this.props.onSelect(r);};q.prototype.$LtgLanguageDialectDropdown6=function(){return i._("Show available languages");};q.prototype.render=function(){var r=i._("Select"),s=null,t=null,u=null;if(this.$LtgLanguageDialectDropdown1&&this.state.isLoaded){var v=this.$LtgLanguageDialectDropdown1.get(this.state.selectedDialect)||r;t=this.$LtgLanguageDialectDropdown3().concat(this.$LtgLanguageDialectDropdown4());u=function(x,y){return this.$LtgLanguageDialectDropdown5(y.item.getValue());}.bind(this);s=v;}else{t=[c('React').createElement(l,{key:'loading',className:"_333x"},c('React').createElement(c('LoadingIndicator.react'),{size:'medium',color:'white'}))];u=c('emptyFunction');s=r;}var w=c('React').createElement(n,{maxheight:this.props.maxheight,onChange:u},t);return (c('React').createElement(c('PopoverMenu.react'),{alignv:'baseline',className:this.props.className,menu:w},c('React').createElement('a',{title:this.$LtgLanguageDialectDropdown6()},s+o)));};q.defaultProps={dialectToNamesMap:null,dialectsToOverride:new (c('Map'))(),dialectsToExclude:new (c('Set'))(),dialectsToInclude:new (c('Set'))(),initialDialect:p};f.exports=q;}),null);
__d('LtgTranslationPreferenceEntryBase',['BanzaiLogger'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.translationData=i;}h.prototype.getPreferenceType=function(){'use strict';return null;};h.prototype.getShouldShowPreference=function(){'use strict';return false;};h.prototype.getEntryTitle=function(){'use strict';return null;};h.prototype.getEntrySubtitle=function(){'use strict';return null;};h.prototype.getConfirmDialogTitle=function(){'use strict';return null;};h.prototype.getConfirmDialogBody=function(){'use strict';return null;};h.prototype.getUseConfirmDialog=function(){'use strict';return false;};h.prototype.getSuccessDialogTitle=function(){'use strict';return null;};h.prototype.getSuccessDialogBody=function(){'use strict';return null;};h.prototype.getUseSuccessDialog=function(){'use strict';return false;};h.prototype.getUseCustomAction=function(){'use strict';return false;};h.prototype.getURIForAsyncAction=function(){'use strict';return null;};h.prototype.getGlyph=function(){'use strict';return null;};h.prototype.performAction=function(){'use strict';};h.prototype.log=function(){'use strict';c('BanzaiLogger').log('LtgTranslationPreferencesLoggerConfig',{translation_request_id:this.translationData.requestID,translation_trigger:this.translationData.trigger,content_id:this.translationData.targetID,translation_ent_id:this.translationData.translationID,click_type:this.getPreferenceType()});};f.exports=h;}),null);
__d("XLtgEditTranslationPreferenceController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/translation_preferences\/edit_translation\/",{content_id:{type:"FBID"},source_dialect:{type:"String",required:true},target_dialect:{type:"String",required:true},translation:{type:"String",required:true}});}),null);
__d('LtgEditTranslationPreferenceEntryBase',['ContentTranslationStrings','LtgTranslationPreferenceEntryBase','TranslationPreferenceEvent','XLtgEditTranslationPreferenceController'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('LtgTranslationPreferenceEntryBase'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.newTranslation=this.translationData.translatedText;}j.prototype.getPreferenceType=function(){'use strict';return c('TranslationPreferenceEvent').EDIT_TRANSLATION;};j.prototype.getShouldShowPreference=function(){'use strict';return true;};j.prototype.getEntryTitle=function(){'use strict';return c('ContentTranslationStrings').EDIT_TRANSLATION_MENU;};j.prototype.getConfirmDialogTitle=function(){'use strict';return this.getEntryTitle();};j.prototype.getUseConfirmDialog=function(){'use strict';return true;};j.prototype.getUseSuccessDialog=function(){'use strict';return true;};j.prototype.getSuccessDialogTitle=function(){'use strict';return this.getConfirmDialogTitle();};j.prototype.getSuccessDialogBody=function(){'use strict';return c('ContentTranslationStrings').EDIT_TRANSLATION_THANKS;};j.prototype.getURIForAsyncAction=function(){'use strict';return c('XLtgEditTranslationPreferenceController').getURIBuilder().setFBID('content_id',this.translationData.targetID).setString('source_dialect',this.translationData.sourceDialect).setString('target_dialect',this.translationData.targetDialect).setString('translation',this.newTranslation).getURI();};f.exports=j;}),null);
__d('TextAreaWithLineLimit.react',['cx','AbstractTextArea.react','React','TextAreaControl','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return m=(n=j.constructor).call.apply(n,[this].concat(p)),this.state={},this.$TextAreaWithLineLimit2=function(event){var r=event.target.value;if(this.$TextAreaWithLineLimit3(r))this.props.onChange(r);}.bind(this),this.$TextAreaWithLineLimit3=function(r){var s=r.split(/\r\n|\r|\n/);if(this.props.maxLines>0&&s.length>this.props.maxLines)return false;if(this.props.maxCharacterPerLine>0)for(var t=0;t<s.length;t++)if(s[t].length>this.props.maxCharacterPerLine)return false;return true;}.bind(this),m;}l.prototype.componentDidMount=function(){var m=this.refs.textArea.getTextFieldDOM();this.$TextAreaWithLineLimit1=new (c('TextAreaControl'))(m);this.$TextAreaWithLineLimit1.setAutogrow(true);this.$TextAreaWithLineLimit1.onupdate();};l.prototype.componentDidUpdate=function(){this.$TextAreaWithLineLimit1.onupdate();};l.prototype.componentWillUnmount=function(){this.$TextAreaWithLineLimit1=null;};l.prototype.render=function(){var m=c('joinClasses')(this.props.className,"_3_8b");return (c('React').createElement(c('AbstractTextArea.react'),babelHelpers['extends']({},this.props,{className:m,onChange:this.$TextAreaWithLineLimit2,onBlur:this.props.onLostFocus,ref:'textArea'})));};l.propTypes={onLostFocus:k.func,maxLines:k.number,maxCharacterPerLine:k.number,onChange:k.func.isRequired};l.defaultProps={maxLines:-1,maxCharacterPerLine:-1};f.exports=l;}),null);
__d('LtgEditTranslationPreferenceEntry',['cx','ContentTranslationStrings','Layout.react','LtgEditTranslationPreferenceEntryBase','React','TextAreaWithLineLimit.react','TextWithEntities.react','XUIGrayText.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Layout.react').Column,l=c('Layout.react').FillColumn;i=babelHelpers.inherits(m,c('LtgEditTranslationPreferenceEntryBase'));j=i&&i.prototype;m.prototype.getConfirmDialogBody=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement(c('Layout.react'),null,c('React').createElement(k,{className:"_1isa"},c('React').createElement(c('XUIGrayText.react'),{className:"_2pir",size:'small',shade:'medium',weight:'bold'},c('ContentTranslationStrings').ORIGINAL_TEXT)),c('React').createElement(l,null,c('React').createElement(c('XUIGrayText.react'),{display:'block',size:'small'},c('React').createElement(c('TextWithEntities.react'),{text:this.translationData.originalText})))),c('React').createElement(c('Layout.react'),{className:"_2pid"},c('React').createElement(k,{className:"_1isa"},c('React').createElement(c('XUIGrayText.react'),{className:"_2pir",size:'small',shade:'medium',weight:'bold'},c('ContentTranslationStrings').YOUR_TRANSLATION)),c('React').createElement(l,null,c('React').createElement(c('TextAreaWithLineLimit.react'),{className:"_5d_f",onChange:function(n){return this.newTranslation=n;}.bind(this),defaultValue:this.translationData.translatedText})))));};function m(){'use strict';i.apply(this,arguments);}f.exports=m;}),null);
__d('LtgLanguageSettingsBasePreferenceEntry',['ix','ContentTranslationStrings','LtgTranslationPreferenceEntryBase','TranslationPreferenceEvent','fbglyph'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('LtgTranslationPreferenceEntryBase'));j=i&&i.prototype;k.prototype.getPreferenceType=function(){'use strict';return c('TranslationPreferenceEvent').LANGUAGE_SETTINGS;};k.prototype.getShouldShowPreference=function(){'use strict';return true;};k.prototype.getEntryTitle=function(){'use strict';return c('ContentTranslationStrings').LANGUAGE_SETTINGS;};k.prototype.getUseConfirmDialog=function(){'use strict';return false;};k.prototype.getUseEditableDialog=function(){'use strict';return false;};k.prototype.getGlyph=function(){'use strict';return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/gear_20_fig-dark-50.png");};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('LtgLanguageSettingsPreferenceEntry',['LtgLanguageSettingsBasePreferenceEntry','URI'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('LtgLanguageSettingsBasePreferenceEntry'));i=h&&h.prototype;j.prototype.performAction=function(){'use strict';new (c('URI'))('/settings').addQueryData('tab','language').go();};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d("XLtgTranslationFeedbackController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/translation\/feedback\/",{target_id:{type:"FBID",required:true},translation_id:{type:"FBID",required:true},request_id:{type:"String",required:true},trigger:{type:"Enum",required:true,enumType:1},rating:{type:"Int",required:true}});}),null);
__d('LtgRatingPreferenceEntry',['ContentTranslationStrings','TranslationPreferenceEvent','TranslationRating','LtgTranslationPreferenceEntryBase','XLtgTranslationFeedbackController'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('LtgTranslationPreferenceEntryBase'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,k);this.setRating(l);}j.prototype.getPreferenceType=function(){'use strict';return c('TranslationPreferenceEvent').RATE_TRANSLATION;};j.prototype.getEntryTitle=function(){'use strict';return c('ContentTranslationStrings').RATE_TRANSLATION;};j.prototype.getURIForAsyncAction=function(){'use strict';return c('XLtgTranslationFeedbackController').getURIBuilder().setEnum('trigger',this.translationData.trigger).setFBID('translation_id',this.translationData.translationID).setFBID('target_id',this.translationData.targetID).setString('request_id',this.translationData.requestID).setInt('rating',this.rating).getURI();};j.prototype.coerceRatingType=function(k){'use strict';switch(k){case 1:return c('TranslationRating').VERY_BAD;case 2:return c('TranslationRating').BAD;case 3:return c('TranslationRating').OK;case 4:return c('TranslationRating').GOOD;case 5:return c('TranslationRating').VERY_GOOD;default:return c('TranslationRating').UNDEFINED;}};j.prototype.setRating=function(k){'use strict';this.rating=this.coerceRatingType(k);};f.exports=j;}),null);
__d('AbstractRating.react',['cx','fbt','invariant','React'],(function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){'use strict';!(this.props.rating>=0)?j(0):void 0;!(this.props.maxRating>0)?j(0):void 0;!(this.props.maxRating===parseInt(this.props.maxRating,10))?j(0):void 0;!(this.props.rating<=this.props.maxRating)?j(0):void 0;var n=[];for(var o=1;o<=this.props.maxRating;o++)n.push(this.$AbstractRating1(o));return (c('React').createElement('div',{'aria-label':this.$AbstractRating2(),className:"_2dh6",onMouseOut:this.props.onMouseOut},n));};m.prototype.$AbstractRating2=function(){'use strict';return i._("{rating} out of {max rating} rating",[i.param('rating',this.props.rating),i.param('max rating',this.props.maxRating)]);};m.prototype.$AbstractRating1=function(n){'use strict';var o=Math.min(Math.max(0,this.props.rating-n+1),1),p=c('React').createElement('div',null,this.props.emptyItem,c('React').createElement('div',{className:"_1v_j",style:{width:o*100+'%'}},this.props.filledItem));return c('React').cloneElement(p,{className:"_1v_k",key:n,onClick:function(){return this.props.onClick&&this.props.onClick(n);}.bind(this),onMouseOver:function(){return this.props.onMouseOver&&this.props.onMouseOver(n);}.bind(this)});};function m(){'use strict';k.apply(this,arguments);}f.exports=m;}),null);
__d('AbstractRatingInput.react',['AbstractRating.react','React'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.state={rating:k.rating||0};}j.prototype.render=function(){'use strict';return (c('React').createElement(c('AbstractRating.react'),babelHelpers['extends']({},this.props,{onClick:this.props.onClick,onMouseOut:function(){this.setState({rating:this.props.rating});this.props.onMouseOut&&this.props.onMouseOut();}.bind(this),onMouseOver:function(k){this.setState({rating:k});this.props.onMouseOver&&this.props.onMouseOver(k);}.bind(this),rating:this.state.rating})));};j.prototype.componentDidUpdate=function(k){'use strict';if(this.props.rating!==k.rating)this.setState({rating:this.props.rating});};f.exports=j;}),null);
__d('StarRatingEmptyStar.react',['cx','invariant','ix','Image.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=function l(m){var n=null,o=m.color?m.color:'fig-light-20';!(typeof m.size==='string')?i(0):void 0;switch(o){case 'fig-light-20':switch(m.size){case '12':n=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_12_fig-light-20.png");break;case '16':n=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_16_fig-light-20.png");break;case '20':n=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_20_fig-light-20.png");break;case '24':n=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_24_fig-light-20.png");break;}break;case 'contextual-recommendations-orange':switch(m.size){case '24':n=j('images/pages/contextual_recommendations/star_24_orange.png');break;}break;}!(n!==null)?i(0):void 0;return (c('React').createElement(c('Image.react'),babelHelpers['extends']({},m,{className:"_55e6",src:n})));};f.exports=k;}),null);
__d('StarRatingFilledStar.react',['ix','cx','invariant','Image.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=function l(m){var n=null,o=m.color?m.color:'accent-blue';!(typeof m.size==='string')?j(0):void 0;switch(o){case 'accent-blue':switch(m.size){case '12':n=h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_12_accent-blue.png");break;case '16':n=h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_16_accent-blue.png");break;case '20':n=h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_20_accent-blue.png");break;case '24':n=h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_24_accent-blue.png");break;}break;case 'fig-white':switch(m.size){case '24':n=h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/star_24_fig-white.png");break;}break;}!(n!==null)?j(0):void 0;return (c('React').createElement(c('Image.react'),babelHelpers['extends']({},m,{className:"_55e6",src:n})));};f.exports=k;}),null);
__d('StarRatingInput.react',['AbstractRatingInput.react','React','StarRatingEmptyStar.react','StarRatingFilledStar.react'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return (c('React').createElement(c('AbstractRatingInput.react'),babelHelpers['extends']({},this.props,{emptyItem:c('React').createElement(c('StarRatingEmptyStar.react'),{size:this.props.size,color:this.props.emptyColor}),filledItem:c('React').createElement(c('StarRatingFilledStar.react'),{size:this.props.size,color:this.props.fillColor})})));};function j(){'use strict';h.apply(this,arguments);}j.defaultProps={maxRating:5,size:'20',color:'fig-light-20'};f.exports=j;}),null);
__d('LtgRatingTranslationPreference.react',['cx','CenteredContainer.react','ContentTranslationStrings','LtgRatingPreferenceEntry','TranslationRating','React','StarRatingInput.react','XUIText.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.state={hoverScore:this.props.score,score:this.props.score};}k.prototype.render=function(){'use strict';var l=this.state.hoverScore===c('TranslationRating').UNDEFINED?this.state.score:this.state.hoverScore,m=this.props.preferenceEntry.coerceRatingType(l);return (c('React').createElement(c('CenteredContainer.react'),{vertical:true},c('React').createElement(c('XUIText.react'),{size:'medium'},c('ContentTranslationStrings').RATE_TRANSLATION),c('React').createElement('div',{className:"_2pic _2pin"},c('React').createElement(c('StarRatingInput.react'),{rating:this.props.score,size:'24',onClick:function(n){return this.$LtgRatingTranslationPreference1(n);}.bind(this),onMouseOver:function(n){this.setState({hoverScore:this.props.preferenceEntry.coerceRatingType(n)});}.bind(this),onMouseOut:function(n){return this.setState({hoverScore:c('TranslationRating').UNDEFINED});}.bind(this)})),c('React').createElement(c('XUIText.react'),{className:"_2tsj"},m===c('TranslationRating').UNDEFINED?c('ContentTranslationStrings').CLICK_TO_RATE:c('ContentTranslationStrings').getUserFeedbackDescriptionForScore(m))));};k.prototype.$LtgRatingTranslationPreference1=function(l){'use strict';this.props.preferenceEntry.setRating(l);var m=this.props.preferenceEntry.rating;this.setState({score:m});this.props.onClick(m);};k.defaultProps={score:c('TranslationRating').UNDEFINED};f.exports=k;}),null);
__d('LtgReportLanguagePreferenceEntryBase',['BanzaiLogger','ContentTranslationStrings','LtgTranslationPreferenceEntryBase','TranslationPreferenceEvent'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('LtgTranslationPreferenceEntryBase'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,k);this.isShowingOriginal=l;this.correctedDialect='xx_XX';}j.prototype.getPreferenceType=function(){'use strict';return c('TranslationPreferenceEvent').DISABLE_AUTO_TRANSLATION;};j.prototype.getShouldShowPreference=function(){'use strict';return this.isShowingOriginal;};j.prototype.getEntryTitle=function(){'use strict';return c('ContentTranslationStrings').getReportLanguage(this.translationData.sourceDialectName);};j.prototype.getConfirmDialogTitle=function(){'use strict';return this.getEntryTitle();};j.prototype.getDialogBody=function(){'use strict';return c('ContentTranslationStrings').getReportLanguageDialogBody(this.translationData.sourceDialectName);};j.prototype.getUseConfirmDialog=function(){'use strict';return true;};j.prototype.getUseSuccessDialog=function(){'use strict';return true;};j.prototype.getSuccessDialogTitle=function(){'use strict';return this.getConfirmDialogTitle();};j.prototype.getSuccessDialogBody=function(){'use strict';return c('ContentTranslationStrings').REPORT_LANGUAGE_THANKS;};j.prototype.performAction=function(){'use strict';c('BanzaiLogger').log('LtgLanguageFeedbackLoggerConfig',{content_id:this.translationData.targetID,corrected_dialect:this.correctedDialect});};f.exports=j;}),null);
__d('LtgReportLanguagePreferenceEntry',['cx','ContentTranslationStrings','LtgLanguageDialectDropdown.react','LtgReportLanguagePreferenceEntryBase','Map','React','Set','TextWithEntities.react','XUIGrayText.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('LtgReportLanguagePreferenceEntryBase'));j=i&&i.prototype;k.prototype.getConfirmDialogBody=function(){'use strict';return (c('React').createElement('div',null,c('ContentTranslationStrings').getReportLanguageDialogBody(this.translationData.sourceDialectName),c('React').createElement(c('XUIGrayText.react'),{display:'block',size:'small',className:"_2ph_"},c('React').createElement(c('TextWithEntities.react'),{text:this.translationData.originalText})),c('ContentTranslationStrings').getReportLanguageSelector(c('React').createElement(c('LtgLanguageDialectDropdown.react'),{dialectsToExclude:new (c('Set'))().add(this.translationData.sourceDialect),dialectsToOverride:new (c('Map'))().set('xx_XX',c('ContentTranslationStrings').I_DONT_KNOW),maxheight:230,onSelect:function(l){return this.correctedDialect=l;}.bind(this)}))));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('LtgTranslateAllCommentsPreferenceEntry',['cx','ContentTranslationStrings','LtgTranslateAllStore','LtgTranslateAllDispatcher','LtgTranslationPreferenceEntryBase','React','TextWithEntities.react','TranslationPreferenceEvent','UFICommentAction','UFIConfig','XUIGrayText.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('LtgTranslationPreferenceEntryBase'));j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this,l);this.$LtgTranslateAllCommentsPreferenceEntry1=m;}k.prototype.performAction=function(){'use strict';var l=c('LtgTranslateAllStore').getTranslatableCommentsForFeedbackTarget(this.$LtgTranslateAllCommentsPreferenceEntry1);c('LtgTranslateAllDispatcher').dispatch(c('UFICommentAction').translateArray(l,this.$LtgTranslateAllCommentsPreferenceEntry1));};k.prototype.getEntryTitle=function(){'use strict';return c('ContentTranslationStrings').TRANSLATE_ALL_TEXT;};k.prototype.getShouldShowPreference=function(){'use strict';return c('UFIConfig').translateAllGK;};k.prototype.getPreferenceType=function(){'use strict';return c('TranslationPreferenceEvent').TRANSLATE_ALL_COMMENTS;};k.prototype.getConfirmDialogBody=function(){'use strict';return (c('React').createElement(c('XUIGrayText.react'),{display:'block',size:'small',className:"_2ph_"},c('React').createElement(c('TextWithEntities.react'),{text:this.translationData.originalText})));};f.exports=k;}),null);
__d("XLtgDisableAutoTranslatePreferenceController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/translation_preferences\/disable_auto_translate\/",{dialect:{type:"String",required:true},event_trigger:{type:"Enum",required:true,enumType:1}});}),null);
__d('LtgDisableAutoTranslatePreferenceEntry',['ix','ContentTranslationStrings','React','TranslationPreferenceEvent','TranslationTrigger','LtgTranslationPreferenceEntryBase','XLtgDisableAutoTranslatePreferenceController','LanguageSettingsAction','fbglyph'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('LtgTranslationPreferenceEntryBase'));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);}k.prototype.getPreferenceType=function(){'use strict';return c('TranslationPreferenceEvent').DISABLE_AUTO_TRANSLATION;};k.prototype.getShouldShowPreference=function(){'use strict';return this.translationData.trigger===c('TranslationTrigger').AUTO_TRANSLATION;};k.prototype.getEntryTitle=function(){'use strict';return c('ContentTranslationStrings').getDisableAutoTranslate(this.translationData.sourceDialectName);};k.prototype.getConfirmDialogTitle=function(){'use strict';return this.getEntryTitle();};k.prototype.getConfirmDialogBody=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement('div',null,c('ContentTranslationStrings').getDisableAutoTranslateDialog(this.translationData.sourceDialectName)),c('ContentTranslationStrings').LANGUAGE_SETTINGS_REMINDER));};k.prototype.getUseConfirmDialog=function(){'use strict';return true;};k.prototype.getUseSuccessDialog=function(){'use strict';return true;};k.prototype.getSuccessDialogTitle=function(){'use strict';return this.getConfirmDialogTitle();};k.prototype.getSuccessDialogBody=function(){'use strict';return c('ContentTranslationStrings').SETTINGS_SAVED;};k.prototype.getURIForAsyncAction=function(){'use strict';return c('XLtgDisableAutoTranslatePreferenceController').getURIBuilder().setString('dialect',this.translationData.sourceDialect).setEnum('event_trigger',c('LanguageSettingsAction').DO_NOT_AUTO_TRANSLATE).getURI();};k.prototype.getGlyph=function(){'use strict';return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/hide_20_fig-dark-50.png");};f.exports=k;}),null);
__d("XLtgNeverTranslatePreferenceController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/translation_preferences\/never_translate\/",{dialect:{type:"String",required:true},event_trigger:{type:"Enum",required:true,enumType:1}});}),null);
__d('LtgNeverTranslatePreferenceEntry',['ix','ContentTranslationStrings','LanguageSettingsAction','LtgTranslationPreferenceEntryBase','React','TranslationPreferenceEvent','XLtgNeverTranslatePreferenceController','fbglyph'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('LtgTranslationPreferenceEntryBase'));j=i&&i.prototype;k.prototype.getPreferenceType=function(){'use strict';return c('TranslationPreferenceEvent').DISABLE_TRANSLATION;};k.prototype.getShouldShowPreference=function(){'use strict';return true;};k.prototype.getEntryTitle=function(){'use strict';return c('ContentTranslationStrings').getNeverTranslate(this.translationData.sourceDialectName);};k.prototype.getEntrySubtitle=function(){'use strict';return c('ContentTranslationStrings').getTranslatedFromTo(this.translationData.sourceDialectName,this.translationData.targetDialectName);};k.prototype.getConfirmDialogTitle=function(){'use strict';return this.getEntryTitle();};k.prototype.getConfirmDialogBody=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement('div',null,c('ContentTranslationStrings').getNeverTranslateDialog(this.translationData.sourceDialectName)),c('ContentTranslationStrings').LANGUAGE_SETTINGS_REMINDER));};k.prototype.getUseConfirmDialog=function(){'use strict';return true;};k.prototype.getUseSuccessDialog=function(){'use strict';return true;};k.prototype.getSuccessDialogTitle=function(){'use strict';return this.getConfirmDialogTitle();};k.prototype.getSuccessDialogBody=function(){'use strict';return c('ContentTranslationStrings').SETTINGS_SAVED;};k.prototype.getURIForAsyncAction=function(){'use strict';return c('XLtgNeverTranslatePreferenceController').getURIBuilder().setString('dialect',this.translationData.sourceDialect).setEnum('event_trigger',c('LanguageSettingsAction').DO_NOT_TRANSLATE).getURI();};k.prototype.getGlyph=function(){'use strict';return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/cross_20_fig-dark-50.png");};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('LtgTranslationUtils',['TranslationTrigger'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={hasSeeOriginalOption:function i(j){return j===c('TranslationTrigger').AUTO_TRANSLATION||j===c('TranslationTrigger').TRANSLATE_ALL;}};f.exports=h;}),null);
__d('LtgSeeOriginalPreferenceEntry',['ix','ContentTranslationStrings','LtgTranslationPreferenceEntryBase','LtgTranslationUtils','TranslationPreferenceEvent','fbglyph'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('LtgTranslationPreferenceEntryBase'));j=i&&i.prototype;function k(l,m,n){'use strict';j.constructor.call(this,l);this.isShowingOriginal=m;this.seeOriginalAction=n;}k.prototype.getPreferenceType=function(){'use strict';return this.isShowingOriginal?c('TranslationPreferenceEvent').HIDE_ORIGINAL:c('TranslationPreferenceEvent').SEE_ORIGINAL;};k.prototype.getShouldShowPreference=function(){'use strict';return c('LtgTranslationUtils').hasSeeOriginalOption(this.translationData.trigger);};k.prototype.getEntryTitle=function(){'use strict';if(this.isShowingOriginal)return c('ContentTranslationStrings').HIDE_ORIGINAL;return c('ContentTranslationStrings').SEE_ORIGINAL;};k.prototype.getUseConfirmDialog=function(){'use strict';return false;};k.prototype.getUseEditableDialog=function(){'use strict';return false;};k.prototype.getGlyph=function(){'use strict';return h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/rotate_20_fig-dark-50.png");};k.prototype.performAction=function(){'use strict';this.seeOriginalAction&&this.seeOriginalAction();};f.exports=k;}),null);
__d('LtgTranslationPreferencesTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LtgTranslationPreferencesLoggerConfig',this.$LtgTranslationPreferencesTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LtgTranslationPreferencesLoggerConfig',this.$LtgTranslationPreferencesTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$LtgTranslationPreferencesTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$LtgTranslationPreferencesTypedLogger1=babelHelpers['extends']({},this.$LtgTranslationPreferencesTypedLogger1,j);return this;};h.prototype.setClickType=function(j){this.$LtgTranslationPreferencesTypedLogger1.click_type=j;return this;};h.prototype.setContentID=function(j){this.$LtgTranslationPreferencesTypedLogger1.content_id=j;return this;};h.prototype.setTranslationEntID=function(j){this.$LtgTranslationPreferencesTypedLogger1.translation_ent_id=j;return this;};h.prototype.setTranslationRequestID=function(j){this.$LtgTranslationPreferencesTypedLogger1.translation_request_id=j;return this;};h.prototype.setTranslationTrigger=function(j){this.$LtgTranslationPreferencesTypedLogger1.translation_trigger=j;return this;};h.prototype.setVC=function(j){this.$LtgTranslationPreferencesTypedLogger1.vc=j;return this;};var i={click_type:true,content_id:true,translation_ent_id:true,translation_request_id:true,translation_trigger:true,vc:true};f.exports=h;}),null);
__d('Middot.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return (c('React').createElement('span',babelHelpers['extends']({},this.props,{role:'presentation','aria-hidden':true}),'  '));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('LtgTranslationPreferences.react',['cx','ix','AsyncRequest','ContentTranslationStrings','CSS','Image.react','Link.react','LtgDisableAutoTranslatePreferenceEntry','LtgEditTranslationPreferenceEntry','LtgLanguageSettingsPreferenceEntry','LtgNeverTranslatePreferenceEntry','LtgRatingPreferenceEntry','LtgReportLanguagePreferenceEntry','LtgRatingTranslationPreference.react','LtgSeeOriginalPreferenceEntry','LtgTranslateAllCommentsPreferenceEntry','LtgTranslateAllStore','LtgTranslationPreferenceEntryBase','LtgTranslationPreferencesTypedLogger','LtgTranslationUtils','TranslationRating','MenuSeparator.react','Middot.react','PopoverMenu.react','React','ReactComponentWithPureRenderMixin','ReactXUIMenu','SimpleXUIDialog','TranslationPreferenceEvent','XUIDialogButton.react','XUIDialogCancelButton.react','XUIMenuStaticItem.react','classWithMixins','highlight','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('ReactXUIMenu').Item,m='separator',n=[c('TranslationPreferenceEvent').RATE_TRANSLATION,m,c('TranslationPreferenceEvent').SEE_ORIGINAL,c('TranslationPreferenceEvent').DISABLE_TRANSLATION,c('TranslationPreferenceEvent').DISABLE_AUTO_TRANSLATION,c('TranslationPreferenceEvent').EDIT_TRANSLATION,c('TranslationPreferenceEvent').REPORT_LANGUAGE,c('TranslationPreferenceEvent').LANGUAGE_SETTINGS,c('TranslationPreferenceEvent').TRANSLATE_ALL_COMMENTS];j=babelHelpers.inherits(o,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactComponentWithPureRenderMixin'))));k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.state={rating:c('TranslationRating').UNDEFINED,isShowingOriginal:this.props.isShowingOriginal,translateAll:c('LtgTranslateAllStore').getTranslateAllEnabledForID(this.props.translateAllTargetID)};}o.prototype.$LtgTranslationPreferences1=function(p){var q=null;switch(p){case c('TranslationPreferenceEvent').RATE_TRANSLATION:q=new (c('LtgRatingPreferenceEntry'))(this.props.translationData,this.state.rating);return (c('React').createElement(c('XUIMenuStaticItem.react'),{key:'rating'},c('React').createElement(c('LtgRatingTranslationPreference.react'),{onClick:function(r){this.setState({rating:r});this.$LtgTranslationPreferences2(q);}.bind(this),score:this.state.rating,translationData:this.props.translationData,preferenceEntry:q})));case m:return (c('React').createElement(c('MenuSeparator.react'),{key:'separator'}));case c('TranslationPreferenceEvent').SEE_ORIGINAL:if(this.props.shouldShowSeeOriginalInDropdown)q=new (c('LtgSeeOriginalPreferenceEntry'))(this.props.translationData,this.state.isShowingOriginal,function(){return this.$LtgTranslationPreferences3();}.bind(this));break;case c('TranslationPreferenceEvent').DISABLE_TRANSLATION:q=new (c('LtgNeverTranslatePreferenceEntry'))(this.props.translationData);break;case c('TranslationPreferenceEvent').DISABLE_AUTO_TRANSLATION:q=new (c('LtgDisableAutoTranslatePreferenceEntry'))(this.props.translationData);break;case c('TranslationPreferenceEvent').LANGUAGE_SETTINGS:q=new (c('LtgLanguageSettingsPreferenceEntry'))(this.props.translationData);break;case c('TranslationPreferenceEvent').EDIT_TRANSLATION:q=new (c('LtgEditTranslationPreferenceEntry'))(this.props.translationData);break;case c('TranslationPreferenceEvent').REPORT_LANGUAGE:q=new (c('LtgReportLanguagePreferenceEntry'))(this.props.translationData,this.state.isShowingOriginal);break;case c('TranslationPreferenceEvent').TRANSLATE_ALL_COMMENTS:if(this.props.translateAllTargetID&&!this.state.translateAll)q=new (c('LtgTranslateAllCommentsPreferenceEntry'))(this.props.translationData,this.props.translateAllTargetID);break;}if(q===null||!q.getShouldShowPreference())return null;return (c('React').createElement(l,{key:p,value:q},q&&q.getEntryTitle()));};o.prototype.$LtgTranslationPreferences4=function(p,q){this.setState({translateAll:c('LtgTranslateAllStore').getTranslateAllEnabledForID(this.props.translateAllTargetID)});if(!q.item.getValue)return;var r=q.item.getValue();this.$LtgTranslationPreferences2(r);};o.prototype.$LtgTranslationPreferences2=function(p){if(!p)return;if(p.getUseConfirmDialog()){this.$LtgTranslationPreferences5(p);}else this.$LtgTranslationPreferences6(p);p.log();};o.prototype.$LtgTranslationPreferences5=function(p){c('SimpleXUIDialog').showEx(p.getConfirmDialogBody(),p.getConfirmDialogTitle(),c('React').createElement('div',null,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:c('ContentTranslationStrings').SUBMIT,use:'confirm',onClick:function(){return this.$LtgTranslationPreferences6(p);}.bind(this)})));};o.prototype.$LtgTranslationPreferences7=function(p){c('SimpleXUIDialog').show(p.getSuccessDialogBody(),p.getSuccessDialogTitle());};o.prototype.$LtgTranslationPreferences6=function(p){var q=p.getURIForAsyncAction();if(q!==null){new (c('AsyncRequest'))().setURI(q).send();}else p.performAction();if(p.getUseSuccessDialog())this.$LtgTranslationPreferences7(p);};o.prototype.$LtgTranslationPreferences3=function(){if(this.props.originalMessage)if(this.state.isShowingOriginal){c('CSS').hide(this.props.originalMessage);}else{c('CSS').show(this.props.originalMessage);c('highlight')(this.props.originalMessage);}this.setState({isShowingOriginal:!this.state.isShowingOriginal});if(this.props.onToggleOriginal)this.props.onToggleOriginal();this.$LtgTranslationPreferences8(this.state.isShowingOriginal?c('TranslationPreferenceEvent').HIDE_ORIGINAL:c('TranslationPreferenceEvent').SEE_ORIGINAL);};o.prototype.$LtgTranslationPreferences9=function(){this.$LtgTranslationPreferences8(c('TranslationPreferenceEvent').TRANSLATION_PREFERENCES);};o.prototype.render=function(){var p=n.map(function(u){return this.$LtgTranslationPreferences1(u);}.bind(this)),q=c('React').createElement(c('ReactXUIMenu'),{onItemClick:function(u,v){return this.$LtgTranslationPreferences4(u,v);}.bind(this)},p),r=[];r.push(c('React').createElement(c('PopoverMenu.react'),{key:'gear',menu:q},c('React').createElement(c('Link.react'),{onClick:function(){return this.$LtgTranslationPreferences9();}.bind(this)},this.props.isGray?c('React').createElement(c('Image.react'),{className:"_3-8w",src:i('/images/translations/gear_icon_gray.png')}):c('React').createElement(c('Image.react'),{className:"_3-8w",src:i('/images/browse/smurfbar/gear-icon.png')}))));var s=this.props.isGray?"_1u4h":null;if(c('LtgTranslationUtils').hasSeeOriginalOption(this.props.translationData.trigger)&&!this.props.shouldShowSeeOriginalInDropdown)r.push(c('React').createElement(c('Link.react'),{key:'seeOriginal',className:(this.props.isGray?"_1u4h":'')+(' '+"_h90"),onClick:function(){return this.$LtgTranslationPreferences3();}.bind(this)},this.state.isShowingOriginal?c('ContentTranslationStrings').HIDE_ORIGINAL:c('ContentTranslationStrings').SEE_ORIGINAL));r.push(c('React').createElement(c('PopoverMenu.react'),{key:'rating',menu:q},c('React').createElement(c('Link.react'),{onClick:function(){return this.$LtgTranslationPreferences9();}.bind(this),className:s},this.props.shouldShowTranslatedFromLanguage?c('ContentTranslationStrings').getTranslatedFrom(this.props.translationData.sourceDialectName):c('ContentTranslationStrings').RATE_TRANSLATION)));var t=[];r.forEach(function(u,v){if(v!==0)t.push(c('React').createElement(c('Middot.react'),{key:v,className:s}));t.push(u);});return (c('React').createElement('span',{className:"_5pio"},t));};o.prototype.$LtgTranslationPreferences8=function(event){new (c('LtgTranslationPreferencesTypedLogger'))().setTranslationEntID(this.props.translationData.translationID).setContentID(this.props.translationData.targetID).setTranslationRequestID(this.props.translationData.requestID).setTranslationTrigger(this.props.translationData.trigger).setClickType(event).log();};o.defaultProps={isShowingOriginal:false,isGray:false,shouldShowTranslatedFromLanguage:false,originalMessage:null,translateAllTargetID:''};f.exports=o;}),null);